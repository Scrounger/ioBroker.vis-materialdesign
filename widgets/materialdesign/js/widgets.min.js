"use strict";vis.binds.materialdesign.button={initializeButton:function(e,t=!1){try{let t=[],a=getValueFromData(e.image,null),i="width: auto;";getValueFromData(e.iconHeight,0)>0&&(i=`width: ${e.iconHeight}px;`);let l="";getValueFromData(e.labelWidth,0)>0&&(l=`style="width: ${e.labelWidth}%;"`);let r="";"true"!==e.invertImage&&!0!==e.invertImage||(r="filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);");let o="";"text"!==e.buttonStyle&&(o="materialdesign-button--"+e.buttonStyle),t.push('<div \n                                        class="materialdesign-button-body" \n                                        style="display:flex; justify-content: center; align-items: center; width: 100%; height: 100%;">');let s="";null!==a&&(s=`<img \n                                    class="imgButton" src="${a}" \n                                    style="${i}${r}" />`);let n="";return null!=getValueFromData(e.buttontext,null)&&(n=`<span \n                                    class="materialdesign-button__label" ${l}>\n                                    ${e.buttontext}\n                                </span>`),"left"===e.iconPosition?t.push(`${s}${n}</div>`):t.push(`${n}${s}</div>`),{button:t.join(""),style:o}}catch(e){console.exception(`initializeButton: error: ${e.message}, stack: ${e.stack}`)}},handleLink:function(e,t){$(e).click(function(){!vis.editMode&&t.href&&(t.openNewWindow?window.open(t.href):window.location.href=t.href)})},handleNavigation:function(e,t){if(!vis.editMode&&t.nav_view){var a=$(e),i=!1;a.on("click touchend",function(e){vis.detectBounce(this)||i||vis.changeView(t.nav_view,t.nav_view)}).on("touchmove",function(){i=!0}).on("touchstart",function(){i=!1})}},handleAdition:function(e,t){try{let a=$(e);a.on("click touchend",function(e){let a=vis.states.attr(t.oid+".val");vis.setValue(t.oid,parseFloat(a)+parseFloat(t.value))})}catch(e){console.exception(`handleAdition [${t.wid}]: error:: ${e.message}, stack: ${e.stack}`)}},handleToggle:function(e,t){try{var a=$(e);let l=getValueFromData(t.colorBgFalse,""),r=getValueFromData(t.colorBgTrue,l),o=getValueFromData(t.labelColorBgFalse,""),s=getValueFromData(t.labelColorBgTrue,o),n=getValueFromData(t.image,""),d=getValueFromData(t.imageTrue,n),c={filter:"","-webkit-filter":"","-moz-filter":"","-o-filter":"","-ms-filter":""};"true"!==t.invertImage&&!0!==t.invertImage||(c={filter:"invert(1)","-webkit-filter":"invert(1)","-moz-filter":"invert(1)","-o-filter":"invert(1)","-ms-filter":"invert(1)"});let m={filter:"","-webkit-filter":"","-moz-filter":"","-o-filter":"","-ms-filter":""};"true"!==t.invertImageTrue&&!0!==t.invertImageTrue||(m={filter:"invert(1)","-webkit-filter":"invert(1)","-moz-filter":"invert(1)","-o-filter":"invert(1)","-ms-filter":"invert(1)"});let u=getValueFromData(t.buttontext,""),g=getValueFromData(t.labelTrue,u),p=getValueFromData(t.labelColorFalse,""),b=getValueFromData(t.labelColorTrue,p);function i(){var e=vis.states.attr(t.oid+".val");let i=!1;"boolean"===t.toggleType?i=e:e===parseInt(t.valueOn)||e===t.valueOn?i=!0:e!==parseInt(t.valueOn)&&e!==t.valueOn&&e!==parseInt(t.valueOff)&&e!==t.valueOff&&"on"===t.stateIfNotTrueValue&&(i=!0),i?(a.parent().attr("toggled",!0),a.parent().css("background",r),a.parent().find(".imgButton").attr("src",d).css(m),a.parent().find(".materialdesign-button__label").html(g).css("color",b),a.find(".labelRowContainer").css("background",s)):(a.parent().attr("toggled",!1),a.parent().css("background",l),a.parent().find(".imgButton").attr("src",n).css(c),a.parent().find(".materialdesign-button__label").html(u).css("color",p),a.find(".labelRowContainer").css("background",o))}i(),t.readOnly&&!vis.editMode&&a.parent().css("pointer-events","none"),vis.states.bind(t.oid+".val",function(e,t,a){i()}),vis.editMode||a.parent().click(function(){"boolean"===t.toggleType?vis.setValue(t.oid,!vis.states.attr(t.oid+".val")):!0===a.parent().attr("toggled")||"true"===a.parent().attr("toggled")?vis.setValue(t.oid,t.valueOff):vis.setValue(t.oid,t.valueOn)})}catch(e){console.exception(`handleToggle [${t.wid}]: error:: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.card={initialize:function(e){try{let t="",a="";"default"!==e.cardStyle&&(a="mdc-card--outlined");let i=getFontSize(e.titleLayout),l=getFontSize(e.subtitleLayout),r=getFontSize(e.textFontSize),o=getValueFromData(e.labelTextHeight,"","height: ","px;"),s=getValueFromData(e.labelSubTextHeight,"","height: ","px;"),n="display: none;";null!==getValueFromData(e.image,null)&&(n="");let d="display: none;";null==getValueFromData(e.title,null)&&null==getValueFromData(e.subtitle,null)||(d="");let c="";return c="custom"===e.htmlLayout?"card-custom-body":"mdc-typography mdc-typography--"+e.htmlLayout,"Basic"===e.cardLayout?t=`<div class="mdc-card__media mdc-card__media--16-9" style="background-image: url(${e.image});${n}"></div>\n                        <div class="materialdesign-html-card card-title-section" style="${d}">\n                            <div class="materialdesign-html-card card-title ${i.class}" style="${i.style}${o}">${e.title}</div>\n                            <div class="materialdesign-html-card card-subtitle ${l.class}" style="${l.style}${s}">${e.subtitle}</div>\n                        </div>\n                        <div class="materialdesign-html-card card-text-section">\n                            <div class="materialdesign-html-card ${r.class}" style="${r.style}">${e.html}</div>\n                        </div>`:"BasicHeader"===e.cardLayout?t=`<div class="materialdesign-html-card card-title-section" style="${d}">\n                            <div class="materialdesign-html-card card-title ${i.class}" style="${i.style}${o}">${e.title}</div>\n                            <div class="materialdesign-html-card card-subtitle ${l.class}" style="${l.style}${s}">${e.subtitle}</div>\n                        </div>\n                        <div class="materialdesign-html-card mdc-card__media mdc-card__media--16-9" style="background-image: url(${e.image});${n}"></div>\n                        <div class="materialdesign-html-card card-text-section">\n                            <div class="materialdesign-html-card ${r.class}" style="${r.style}">${e.html}</div>\n                        </div>`:"BasicHeaderOverlay"===e.cardLayout?t=`<div class="mdc-card__media mdc-card__media--16-9" style="background-image: url(${e.image});${n}">\n                            <div class="materialdesign-html-card mdc-card__media-content">\n                                <div class="materialdesign-html-card card-title-section" style="${d}">\n                                    <div class="materialdesign-html-card card-title ${i.class}" style="${i.style}${o}">${e.title}</div>\n                                    <div class="materialdesign-html-card card-subtitle ${l.class}" style="${l.style}${s}">${e.subtitle}</div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="materialdesign-html-card card-text-section">\n                            <div class="materialdesign-html-card ${r.class}" style="${r.style}">${e.html}</div>\n                        </div>`:"Horizontal"===e.cardLayout&&(t=`<div class="materialdesign-html-card horizontal-container" style="${d}">\n                            <div class="materialdesign-html-card mdc-card__media mdc-card__media--square" style="background-image: url(${e.image});${n}"></div>\n                            <div>\n                                <div class="materialdesign-html-card card-title-section">\n                                    <div class="materialdesign-html-card card-title ${i.class}" style="${i.style}${o}">${e.title}</div>\n                                    <div class="materialdesign-html-card card-subtitle ${l.class}" style="${l.style}${s}">${e.subtitle}</div>\n                                </div>\n                                <div class="materialdesign-html-card card-text-section">\n                                    <div class="materialdesign-html-card ${r.class}" style="${r.style}">${e.html}</div>\n                                </div>\n                            </div>\n                        </div>`),{card:t,style:a}}catch(e){console.exception(`initialize: error:: ${e.message}, stack: ${e.stack}`)}},handler:function(e,t){try{let a=$(e),i=a.context,l=getValueFromData(t.colorBackground,"");i.style.setProperty("--materialdesign-color-card-background",l),i.style.setProperty("--materialdesign-color-card-title-section-background",getValueFromData(t.colorTitleSectionBackground,l)),i.style.setProperty("--materialdesign-color-card-text-section-background",getValueFromData(t.colorTextSectionBackground,l)),i.style.setProperty("--materialdesign-color-card-title",getValueFromData(t.colorTitle,"")),i.style.setProperty("--materialdesign-color-card-sub-title",getValueFromData(t.colorSubtitle,""))}catch(e){console.exception(`handler: error: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.chart={bar:function(e,t){try{setTimeout(function(){let a=vis.binds.materialdesign.chart.helper;a.registerChartAreaPlugin();$(e);var i=$(e).find(".materialdesign-chart-container").get(0);$(e).find(".materialdesign-chart-container").css("background-color",getValueFromData(t.backgroundColor,""));let l=getValueFromData(t.globalColor,"#44739e"),r=getValueFromData(t.colorScheme,null);if(null!=r&&(r=vis.binds.materialdesign.colorScheme.get(t.colorScheme,t.dataCount)),null!=i&&""!==i){var o=i.getContext("2d");Chart.defaults.global.defaultFontColor="#44739e",Chart.defaults.global.defaultFontSize=15,Chart.defaults.global.animation.duration=getNumberFromData(t.animationDuration,1e3),Chart.plugins.unregister(ChartDataLabels);let e=[],u=[],g=[],p=[],b=getValueFromData(t.valuesFontColor,"black"),h=[];for(var s=0;s<=t.dataCount;s++){e.push(vis.states.attr(t.attr("oid"+s)+".val")),u.push(getValueFromData(t.attr("label"+s),"").split("\\n")),null!=r&&(l=r[s]);let i=getValueFromData(t.attr("dataColor"+s),l);g.push(i),null===getValueFromData(t.hoverColor,null)?p.push(a.convertHex(i,80)):p.push(t.hoverColor),h.push(getValueFromData(t.attr("valueTextColor"+s),b)),vis.states.bind(t.attr("oid"+s)+".val",m)}var n={labels:u,datasets:[Object.assign(a.getDataset(e,g,p,void 0,t.hoverBorderColor,void 0,t.hoverBorderWidth),{label:getValueFromData(t.barLabelText,""),categoryPercentage:getNumberFromData(t.barWidth,80)/100,barPercentage:getNumberFromData(t.barWidth,80)/100})]},d={responsive:!0,maintainAspectRatio:!1,layout:a.getLayout(t),legend:a.getLegend(t),chartArea:{backgroundColor:getValueFromData(t.chartAreaBackgroundColor,"")},scales:{yAxes:[a.get_Y_AxisObject(t.chartType,t.yAxisPosition,t.yAxisTitle,t.yAxisTitleColor,t.yAxisTitleFontFamily,t.yAxisTitleFontSize,t.yAxisShowAxisLabels,t.axisValueMin,t.axisValueMax,t.axisValueStepSize,t.axisMaxLabel,t.axisLabelAutoSkip,t.axisValueAppendText,t.yAxisValueLabelColor,t.yAxisValueFontFamily,t.yAxisValueFontSize,t.yAxisValueDistanceToAxis,t.yAxisGridLinesColor,t.yAxisGridLinesWitdh,t.yAxisShowAxis,t.yAxisShowGridLines,t.yAxisShowTicks,t.yAxisTickLength)],xAxes:[a.get_X_AxisObject(t.chartType,t.xAxisPosition,t.xAxisTitle,t.xAxisTitleColor,t.xAxisTitleFontFamily,t.xAxisTitleFontSize,t.xAxisShowAxisLabels,t.axisValueMin,t.axisValueMax,t.axisValueStepSize,t.axisMaxLabel,t.axisLabelAutoSkip,t.axisValueAppendText,t.xAxisValueLabelColor,t.xAxisValueFontFamily,t.xAxisValueFontSize,t.xAxisValueDistanceToAxis,t.xAxisGridLinesColor,t.xAxisGridLinesWitdh,t.xAxisShowAxis,t.xAxisShowGridLines,t.xAxisShowTicks,t.xAxisTickLength)]},tooltips:{enabled:t.showTooltip,backgroundColor:getValueFromData(t.tooltipBackgroundColor,"black"),caretSize:getNumberFromData(t.tooltipArrowSize,5),caretPadding:getNumberFromData(t.tooltipDistanceToBar,2),cornerRadius:getNumberFromData(t.tooltipBoxRadius,4),displayColors:t.tooltipShowColorBox,xPadding:getNumberFromData(t.tooltipXpadding,10),yPadding:getNumberFromData(t.tooltipYpadding,10),titleFontColor:getValueFromData(t.tooltipTitleFontColor,"white"),titleFontFamily:getValueFromData(t.tooltipTitleFontFamily,void 0),titleFontSize:getNumberFromData(t.tooltipTitleFontSize,void 0),titleMarginBottom:getNumberFromData(t.tooltipTitleMarginBottom,6),bodyFontColor:getValueFromData(t.tooltipBodyFontColor,"white"),bodyFontFamily:getValueFromData(t.tooltipBodyFontFamily,void 0),bodyFontSize:getNumberFromData(t.tooltipBodyFontSize,void 0),callbacks:{label:function(e,i){return e&&e.value?`${i.datasets[0].label}: ${a.roundNumber(parseFloat(e.value),getNumberFromData(t.tooltipValueMaxDecimals,10)).toLocaleString()}${getValueFromData(t.tooltipBodyAppend,"")}`.split("\\n"):""}}},plugins:{datalabels:{anchor:t.valuesPositionAnchor,align:t.valuesPositionAlign,clamp:!0,rotation:getNumberFromData(t.valuesRotation,void 0),formatter:function(e,i){return e?`${a.roundNumber(e,getNumberFromData(t.valuesMaxDecimals,10)).toLocaleString()}${getValueFromData(t.valuesAppendText,"")}${getValueFromData(t.attr("labelValueAppend"+i.dataIndex),"")}`.split("\\n"):""},font:{family:getValueFromData(t.valuesFontFamily,void 0),size:getNumberFromData(t.valuesFontSize,void 0)},color:h,textAlign:t.valuesTextAlign}}};t.disableHoverEffects&&(d.hover={mode:null});var c=new Chart(o,{type:"vertical"===t.chartType?"bar":"horizontalBar",data:n,options:d,plugins:t.showValues?[ChartDataLabels]:void 0});function m(e,a,i){let l=e.type.substr(0,e.type.lastIndexOf("."));for(var r=0;r<=t.dataCount;r++)if(l===t.attr("oid"+r)){let e=r;c.data.datasets[0].data[e]=a,c.update()}}}},1)}catch(e){console.exception(`bar: error:: ${e.message}, stack: ${e.stack}`)}},lineHistory:function(e,t){let a=`lineHistory[${t.wid}]:`;try{setTimeout(function(){function a(e,a,r){if(l){s.show();let e=t.timeIntervalToShow;null!==getValueFromData(t.time_interval_oid,null)&&void 0!==i.intervals[vis.states.attr(t.time_interval_oid+".val")]&&(e=vis.states.attr(t.time_interval_oid+".val"),null!==getValueFromData(a,null)&&void 0!==i.intervals[a]&&(e=a)),d=i.intervals[e]?(new Date).getTime()-i.intervals[e]:void 0;let r=[];for(var o=0;o<=t.dataCount;o++)null!==getValueFromData(t.attr("oid"+o),null)&&r.push(i.getTaskForHistoryData(t.attr("oid"+o),t,d));Promise.all(r).then(e=>{for(var a=0;a<=e.length-1;a++){let r=i.getPreparedData(e[a],t,a);l.data.datasets[a].data=r}l.update(),s.hide()})}}let i=vis.binds.materialdesign.chart.helper;var l;i.registerChartAreaPlugin();let r=$(e);var o=r.find(".materialdesign-chart-container").get(0),s=r.find(".material-progress-circular-container");s.show();let n=t.timeIntervalToShow;null!==getValueFromData(t.time_interval_oid,null)&&void 0!==i.intervals[vis.states.attr(t.time_interval_oid+".val")]&&(n=vis.states.attr(t.time_interval_oid+".val"),vis.states.bind(t.time_interval_oid+".val",a));let d=i.intervals[n]?(new Date).getTime()-i.intervals[n]:void 0;r.find(".materialdesign-chart-container").css("background-color",getValueFromData(t.backgroundColor,""));let c=getValueFromData(t.globalColor,"#44739e"),m=getValueFromData(t.colorScheme,null);if(null!=m&&(m=vis.binds.materialdesign.colorScheme.get(t.colorScheme,t.dataCount)),null!==getValueFromData(t.manualRefreshTrigger,null)&&vis.states.bind(t.manualRefreshTrigger+".ts",a),"timeInterval"===t.refreshMethod&&setInterval(function(){a()},i.intervals[t.refreshTimeInterval]),null!=o&&""!==o){var u=o.getContext("2d");if(Chart.defaults.global.defaultFontColor="#44739e",Chart.defaults.global.defaultFontSize=15,Chart.defaults.global.animation.duration=getNumberFromData(t.animationDuration,1e3),Chart.plugins.unregister(ChartDataLabels),null!==getValueFromData(t.historyAdapterInstance,null)){let e=[];for(var g=0;g<=t.dataCount;g++)null!==getValueFromData(t.attr("oid"+g),null)&&(e.push(i.getTaskForHistoryData(t.attr("oid"+g),t,d)),"realtime"===t.refreshMethod&&vis.states.bind(t.attr("oid"+g)+".val",a));Promise.all(e).then(e=>{let a=[],r=[];for(var o=0;o<=e.length-1;o++){let l=i.getPreparedData(e[o],t,o),s=getNumberFromData(t.attr("valuesMaxDecimals"+o),10),n=getValueFromData(t.attr("valuesAppendText"+o),"");a.push({data:l,lineTension:getNumberFromData(t.attr("lineTension"+o),.4),borderWidth:getNumberFromData(t.attr("lineThikness"+o),3),label:getValueFromData(t.attr("legendText"+o),""),borderColor:getValueFromData(t.attr("dataColor"+o),m?getValueFromData(m[o],c):c),pointBackgroundColor:getValueFromData(t.attr("dataColor"+o),m?getValueFromData(m[o],c):c),fill:t.attr("useFillColor"+o),backgroundColor:getValueFromData(t.attr("fillColor"+o),i.convertHex(getValueFromData(t.attr("dataColor"+o),m?getValueFromData(m[o],c):c),10)),pointRadius:getNumberFromData(t.pointSize,3),pointHoverRadius:getNumberFromData(t.pointSizeHover,4),pointStyle:getValueFromData(t.pointStyle,"circle"),pointHoverBorderColor:getValueFromData(t.attr("pointHoverColor"+o),getValueFromData(t.attr("dataColor"+o),m?getValueFromData(m[o],c):c)),pointHoverBackgroundColor:getValueFromData(t.attr("pointHoverColor"+o),getValueFromData(t.attr("dataColor"+o),m?getValueFromData(m[o],c):c)),yAxisID:"yAxis_id_"+getNumberFromData(t.attr("commonYAxis"+o),o),spanGaps:t.attr("lineSpanGaps"+o),datalabels:{display:t.attr("showValues"+o),anchor:t.attr("valuesPositionAnchor"+o),align:t.attr("valuesPositionAlign"+o),clamp:!0,rotation:getNumberFromData(t.attr("valuesRotation"+o),void 0),formatter:function(e,t){return e.y?`${i.roundNumber(e.y,s).toLocaleString()}${n}`.split("\\n"):""},font:{family:getValueFromData(t.attr("valuesFontFamily"+o),void 0),size:getNumberFromData(t.attr("valuesFontSize"+o),void 0)},color:getValueFromData(t.attr("valuesFontColor"+o),getValueFromData(t.attr("dataColor"+o),m?getValueFromData(m[o],c):c)),textAlign:t.attr("valuesTextAlign"+o)}}),r.push({id:"yAxis_id_"+o,type:"linear",position:t.attr("yAxisPosition"+o),display:getNumberFromData(t.attr("commonYAxis"+o),o)===o&&t.attr("showYAxis"+o),scaleLabel:{display:null!==getValueFromData(t.attr("yAxisTitle"+o),null),labelString:getValueFromData(t.attr("yAxisTitle"+o),""),fontColor:getValueFromData(t.yAxisTitleColor,void 0),fontFamily:getValueFromData(t.yAxisTitleFontFamily,void 0),fontSize:getNumberFromData(t.yAxisTitleFontSize,void 0)},ticks:{min:getNumberFromData(t.attr("yAxisMinValue"+o),void 0),max:getNumberFromData(t.attr("yAxisMaxValue"+o),void 0),stepSize:getNumberFromData(t.attr("yAxisStep"+o),void 0),autoSkip:!0,maxTicksLimit:getNumberFromData(t.attr("yAxisMaxLabel"+o),void 0),fontColor:getValueFromData(t.attr("yAxisValueColor"+o),getValueFromData(t.yAxisValueLabelColor,void 0)),fontFamily:getValueFromData(t.yAxisValueFontFamily,void 0),fontSize:getNumberFromData(t.yAxisValueFontSize,void 0),padding:getNumberFromData(t.yAxisValueDistanceToAxis,0),callback:function(e,a,i){let l=this.id.replace("yAxis_id_","");return`${e}${getValueFromData(t.attr("yAxisValueAppendText"+l),"")}`.split("\\n")}},gridLines:{display:!0,color:getValueFromData(t.attr("yAxisGridLinesColor"+o),"black"),lineWidth:getNumberFromData(t.attr("yAxisGridLinesWitdh"+o),.1),drawBorder:t.attr("yAxisShowAxisBorder"+o),drawOnChartArea:t.attr("yAxisShowGridLines"+o),drawTicks:t.attr("yAxisShowTicks"+o),tickMarkLength:getNumberFromData(t.attr("yAxisTickLength"+o),5)}})}var n={datasets:a},d={responsive:!0,maintainAspectRatio:!1,layout:i.getLayout(t),chartArea:{backgroundColor:getValueFromData(t.chartAreaBackgroundColor,"")},hover:{mode:"nearest"},legend:Object.assign(i.getLegend(t),{onClick:function(e,a){var i=a.datasetIndex,r=this.chart,o=r.getDatasetMeta(i);getNumberFromData(t.attr("commonYAxis"+i),i)===i&&(l.options.scales.yAxes[i].display=!l.options.scales.yAxes[i].display),o.hidden=null===o.hidden?!r.data.datasets[i].hidden:null,r.update()}}),scales:{xAxes:[{type:"time",bounds:"axisTicks"===getValueFromData(t.xAxisBounds,"")?"ticks":"data",time:{displayFormats:null!==getValueFromData(t.xAxisTimeFormats,null)?JSON.parse(t.xAxisTimeFormats):i.defaultTimeFormats(),tooltipFormat:"ll"},position:t.xAxisPosition,scaleLabel:{display:null!==getValueFromData(t.xAxisTitle,null),labelString:getValueFromData(t.xAxisTitle,""),fontColor:getValueFromData(t.xAxisTitleColor,void 0),fontFamily:getValueFromData(t.xAxisTitleFontFamily,void 0),fontSize:getNumberFromData(t.xAxisTitleFontSize,void 0)},ticks:{display:t.xAxisShowAxisLabels,autoSkip:!0,autoSkipPadding:10,maxTicksLimit:getNumberFromData(t.xAxisMaxLabel,void 0),maxRotation:0,minRotation:0,callback:function(e,a,i){return`${e}${getValueFromData(t.axisValueAppendText,"")}`.split("\\n")},fontColor:getValueFromData(t.xAxisValueLabelColor,void 0),fontFamily:getValueFromData(t.xAxisValueFontFamily,void 0),fontSize:getNumberFromData(t.xAxisValueFontSize,void 0),padding:getNumberFromData(t.xAxisValueDistanceToAxis,0)},gridLines:{display:!0,color:getValueFromData(t.xAxisGridLinesColor,"black"),lineWidth:getNumberFromData(t.xAxisGridLinesWitdh,.1),drawBorder:t.xAxisShowAxis,drawOnChartArea:t.xAxisShowGridLines,drawTicks:t.xAxisShowTicks,tickMarkLength:getNumberFromData(t.xAxisTickLength,5)}}],yAxes:r},tooltips:{mode:"nearest",enabled:t.showTooltip,backgroundColor:getValueFromData(t.tooltipBackgroundColor,"black"),caretSize:getNumberFromData(t.tooltipArrowSize,5),caretPadding:getNumberFromData(t.tooltipDistanceToBar,2),cornerRadius:getNumberFromData(t.tooltipBoxRadius,4),displayColors:t.tooltipShowColorBox,xPadding:getNumberFromData(t.tooltipXpadding,10),yPadding:getNumberFromData(t.tooltipYpadding,10),titleFontColor:getValueFromData(t.tooltipTitleFontColor,"white"),titleFontFamily:getValueFromData(t.tooltipTitleFontFamily,void 0),titleFontSize:getNumberFromData(t.tooltipTitleFontSize,void 0),titleMarginBottom:getNumberFromData(t.tooltipTitleMarginBottom,6),bodyFontColor:getValueFromData(t.tooltipBodyFontColor,"white"),bodyFontFamily:getValueFromData(t.tooltipBodyFontFamily,void 0),bodyFontSize:getNumberFromData(t.tooltipBodyFontSize,void 0),callbacks:{title:function(e,a){let l=e[0].datasetIndex,r=e[0].index,o=Object.keys(a.datasets[l]._meta)[0],s=a.datasets[l]._meta[o].controller._xScale._unit,n=moment(a.datasets[l].data[r].t),d=null!==getValueFromData(t.tooltipTimeFormats,null)?JSON.parse(t.tooltipTimeFormats):i.defaultToolTipTimeFormats();return n.format(d[s])},label:function(e,a){return e&&e.value?`${a.datasets[e.datasetIndex].label}: ${i.roundNumber(parseFloat(e.value),getNumberFromData(t.tooltipValueMaxDecimals,10)).toLocaleString()}${getValueFromData(t.tooltipBodyAppend,"")}`.split("\\n"):""}}}};t.disableHoverEffects&&(d.hover={mode:null}),l=new Chart(u,{type:"line",data:n,options:d,plugins:[ChartDataLabels]}),s.hide()})}}},1)}catch(e){console.exception(`${a} ${e.message}, stack: ${e.stack}`)}},pie:function(e,t){try{setTimeout(function(){let a=vis.binds.materialdesign.chart.helper;a.registerChartAreaPlugin();$(e);var i=$(e).find(".materialdesign-chart-container").get(0);$(e).find(".materialdesign-chart-container").css("background-color",getValueFromData(t.backgroundColor,""));let l=getValueFromData(t.globalColor,"#44739e"),r=getValueFromData(t.colorScheme,null);if(null!=r&&(r=vis.binds.materialdesign.colorScheme.get(t.colorScheme,t.dataCount)),null!=i&&""!==i){var o=i.getContext("2d");Chart.defaults.global.defaultFontColor="#44739e",Chart.defaults.global.defaultFontSize=15,Chart.defaults.global.animation.duration=getNumberFromData(t.animationDuration,1e3),Chart.plugins.unregister(ChartDataLabels);let e=[],u=[],g=[],p=[],b=getValueFromData(t.valuesFontColor,"black"),h=[];for(var s=0;s<=t.dataCount;s++){e.push(vis.states.attr(t.attr("oid"+s)+".val")),u.push(getValueFromData(t.attr("label"+s),"").split("\\n")),null!=r&&(l=r[s]);let i=getValueFromData(t.attr("dataColor"+s),l);g.push(i),null===getValueFromData(t.hoverColor,null)?p.push(a.convertHex(i,80)):p.push(t.hoverColor),h.push(getValueFromData(t.attr("valueTextColor"+s),b)),vis.states.bind(t.attr("oid"+s)+".val",m)}var n={labels:u,datasets:[Object.assign(a.getDataset(e,g,p,t.borderColor,t.hoverBorderColor,t.borderWidth,t.hoverBorderWidth),{borderAlign:"inner"})]},d={responsive:!0,maintainAspectRatio:!1,layout:a.getLayout(t),legend:a.getLegend(t),cutoutPercentage:"doughnut"===t.chartType?getNumberFromData(t.doughnutCutOut,50):0,chartArea:{backgroundColor:getValueFromData(t.chartAreaBackgroundColor,"")},tooltips:{enabled:t.showTooltip,backgroundColor:getValueFromData(t.tooltipBackgroundColor,"black"),caretSize:getNumberFromData(t.tooltipArrowSize,5),caretPadding:getNumberFromData(t.tooltipDistanceToBar,2),cornerRadius:getNumberFromData(t.tooltipBoxRadius,4),displayColors:t.tooltipShowColorBox,xPadding:getNumberFromData(t.tooltipXpadding,10),yPadding:getNumberFromData(t.tooltipYpadding,10),titleFontColor:getValueFromData(t.tooltipTitleFontColor,"white"),titleFontFamily:getValueFromData(t.tooltipTitleFontFamily,void 0),titleFontSize:getNumberFromData(t.tooltipTitleFontSize,void 0),titleMarginBottom:getNumberFromData(t.tooltipTitleMarginBottom,6),bodyFontColor:getValueFromData(t.tooltipBodyFontColor,"white"),bodyFontFamily:getValueFromData(t.tooltipBodyFontFamily,void 0),bodyFontSize:getNumberFromData(t.tooltipBodyFontSize,void 0),callbacks:{label:function(e,i){return e?`${u[e.index]}: ${a.roundNumber(parseFloat(i.datasets[0].data[e.index]),getNumberFromData(t.tooltipValueMaxDecimals,10)).toLocaleString()}${getValueFromData(t.tooltipBodyAppend,"")}`.split("\\n"):""}}},plugins:{datalabels:{anchor:t.valuesPositionAnchor,align:t.valuesPositionAlign,clamp:!0,rotation:getNumberFromData(t.valuesRotation,void 0),formatter:function(e,i){return e?`${a.roundNumber(e,getNumberFromData(t.valuesMaxDecimals,10)).toLocaleString()}${getValueFromData(t.valuesAppendText,"")}${getValueFromData(t.attr("labelValueAppend"+i.dataIndex),"")}`.split("\\n"):""},font:{family:getValueFromData(t.valuesFontFamily,void 0),size:getNumberFromData(t.valuesFontSize,void 0)},color:h,textAlign:t.valuesTextAlign}}};t.disableHoverEffects&&(d.hover={mode:null});var c=new Chart(o,{type:"pie"===t.chartType?"pie":"doughnut",data:n,options:d,plugins:t.showValues?[ChartDataLabels]:void 0});function m(e,a,i){let l=e.type.substr(0,e.type.lastIndexOf("."));for(var r=0;r<=t.dataCount;r++)if(l===t.attr("oid"+r)){let e=r;c.data.datasets[0].data[e]=a,c.update()}}}},1)}catch(e){console.exception(`bar: error:: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.chart.helper={convertHex:function(e,t){e=e.replace("#","");let a=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),l=parseInt(e.substring(4,6),16);return"rgba("+a+","+i+","+l+","+t/100+")"},get_Y_AxisObject:function(e,t,a,i,l,r,o,s,n,d,c,m,u,g,p,b,h,v,f,y,F,x,D){return{position:t,scaleLabel:{display:null!==getValueFromData(a,null),labelString:getValueFromData(a,""),fontColor:getValueFromData(i,void 0),fontFamily:getValueFromData(l,void 0),fontSize:getNumberFromData(r,void 0)},ticks:{display:o,min:getNumberFromData(s,void 0),max:getNumberFromData(n,void 0),stepSize:getNumberFromData(d,void 0),autoSkip:"horizontal"===e&&(getNumberFromData(c,void 0)>0||m),maxTicksLimit:"horizontal"===e?getNumberFromData(c,void 0):void 0,callback:function(t,a,i){return"vertical"===e?`${t}${getValueFromData(u,"")}`.split("\\n"):t},fontColor:getValueFromData(g,void 0),fontFamily:getValueFromData(p,void 0),fontSize:getNumberFromData(b,void 0),padding:getNumberFromData(h,0)},gridLines:{display:!0,color:getValueFromData(v,"black"),lineWidth:getNumberFromData(f,.1),drawBorder:y,drawOnChartArea:F,drawTicks:x,tickMarkLength:getNumberFromData(D,5)}}},get_X_AxisObject:function(e,t,a,i,l,r,o,s,n,d,c,m,u,g,p,b,h,v,f,y,F,x,D){return{position:t,scaleLabel:{display:null!==getValueFromData(a,null),labelString:getValueFromData(a,""),fontColor:getValueFromData(i,void 0),fontFamily:getValueFromData(l,void 0),fontSize:getNumberFromData(r,void 0)},ticks:{display:o,min:getNumberFromData(s,void 0),max:getNumberFromData(n,void 0),stepSize:getNumberFromData(d,void 0),autoSkip:"vertical"===e&&(getNumberFromData(c,void 0)>0||m),maxTicksLimit:"vertical"===e?getNumberFromData(c,void 0):void 0,callback:function(t,a,i){return"horizontal"===e?`${t}${getValueFromData(u,"")}`.split("\\n"):t},fontColor:getValueFromData(g,void 0),fontFamily:getValueFromData(p,void 0),fontSize:getNumberFromData(b,void 0),padding:getNumberFromData(h,0)},gridLines:{display:!0,color:getValueFromData(v,"black"),lineWidth:getNumberFromData(f,.1),drawBorder:y,drawOnChartArea:F,drawTicks:x,tickMarkLength:getNumberFromData(D,5)}}},getDataset:function(e,t,a,i,l,r,o){return{data:e,backgroundColor:t,hoverBackgroundColor:a,borderColor:getValueFromData(i,"white"),hoverBorderColor:getValueFromData(l,void 0),borderWidth:getNumberFromData(r,void 0),hoverBorderWidth:getNumberFromData(o,void 0)}},getLegend:function(e){return{display:e.showLegend,position:e.legendPosition,labels:{fontColor:getValueFromData(e.legendFontColor,void 0),fontFamily:getValueFromData(e.legendFontFamily,void 0),fontSize:getNumberFromData(e.legendFontSize,void 0),boxWidth:getNumberFromData(e.legendBoxWidth,10),usePointStyle:e.legendPointStyle}}},getLayout:function(e){return{padding:{top:getValueFromData(e.chartPaddingTop,0),left:getValueFromData(e.chartPaddingLeft,0),right:getValueFromData(e.chartPaddingRight,0),bottom:getValueFromData(e.chartPaddingBottom,0)}}},roundNumber:(e,t)=>+(Math.round(e+"e+"+t)+"e-"+t),intervals:{"30 seconds":3e4,"1 minute":6e4,"2 minutes":12e4,"5 minutes":3e5,"10 minutes":6e5,"30 minutes":18e5,"1 hour":36e5,"2 hours":72e5,"4 hours":144e5,"8 hours":288e5,"12 hours":432e5,"1 day":864e5,"2 days":1728e5,"3 days":2592e5,"7 days":6048e5,"14 days":12096e5,"1 month":2628e6,"2 months":5256e6,"3 months":7884e6,"6 months":15768e6,"1 year":31536e6,"2 years":63072e6},defaultTimeFormats:function(){return JSON.parse('\n            {\n                "millisecond":    "H:mm:ss.SSS",\n                "second":         "H:mm:ss",\n                "minute":         "H:mm",\n                "hour":           "H",\n                "day":            "ddd DD.",\n                "week":           "ll",\n                "month":          "MMM YYYY",\n                "quarter":        "[Q]Q - YYYY",\n                "year":           "YYYY"\n            }\n            ')},defaultToolTipTimeFormats:function(){return JSON.parse('\n            {\n                "millisecond":    "lll:ss",\n                "second":         "lll:ss",\n                "minute":         "lll",\n                "hour":           "lll",\n                "day":            "lll",\n                "week":           "lll",\n                "month":          "lll",\n                "quarter":        "lll",\n                "year":           "lll"\n            }\n            ')},getTaskForHistoryData:function(e,t,a){return new Promise((i,l)=>{vis.getHistory(e,{instance:t.historyAdapterInstance,count:parseInt(getNumberFromData(t.maxDataPoints,100)),step:1e3*parseInt(getNumberFromData(t.minTimeInterval,0)),aggregate:t.aggregate||"average",start:a,end:(new Date).getTime(),timeout:2e3},function(e,t){i(!e&&t?t:null)})})},getPreparedData:function(e,t,a){let i=[];return e&&(i=e.map(e=>({t:null!==e.ts&&void 0!==e.ts?e.ts:null,y:null!==e.val&&void 0!==e.val?e.val*getNumberFromData(t.attr("multiply"+a),1):null}))),i},registerChartAreaPlugin:function(){Chart.pluginService.register({beforeDraw:function(e,t){if(e.config.options.chartArea&&e.config.options.chartArea.backgroundColor){Chart.helpers;var a=e.chart.ctx,i=e.chartArea;a.save(),a.fillStyle=e.config.options.chartArea.backgroundColor,a.fillRect(i.left,i.top,i.right-i.left,i.bottom-i.top),a.restore()}}})}},vis.binds.materialdesign.colorScheme={get:function(e,t=1){try{let i={"scrounger.pie":["#44739e","#6dd600","#ff9800","#8e24aa","#ffeb3b","#d32f2f","#a65628"]};if(i["material.red"]=["#ffebee","#ffcdd2","#ef9a9a","#e57373","#ef5350","#f44336","#e53935","#d32f2f","#c62828","#b71c1c"].reverse(),i["material.pink"]=["#fce4ec","#f8bbd0","#f48fb1","#f06292","#ec407a","#e91e63","#d81b60","#c2185b","#ad1457","#880e4f"].reverse(),
i["material.purple"]=["#f3e5f5","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#9c27b0","#8e24aa","#7b1fa2","#6a1b9a","#4a148c"].reverse(),i["material.deeppurple"]=["#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#673ab7","#5e35b1","#512da8","#4527a0","#311b92"].reverse(),i["material.indigo"]=["#e8eaf6","#c5cae9","#9fa8da","#7986cb","#5c6bc0","#3f51b5","#3949ab","#303f9f","#283593","#1a237e"].reverse(),i["material.blue"]=["#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0","#0d47a1"].reverse(),i["material.lightblue"]=["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"].reverse(),i["material.cyan"]=["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"].reverse(),i["material.teal"]=["#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#004d40"].reverse(),i["material.green"]=["#e8f5e9","#c8e6c9","#a5d6a7","#81c784","#66bb6a","#4caf50","#43a047","#388e3c","#2e7d32","#1b5e20"].reverse(),i["material.lightgreen"]=["#f1f8e9","#dcedc8","#c5e1a5","#aed581","#9ccc65","#8bc34a","#7cb342","#689f38","#558b2f","#33691e"].reverse(),i["material.lime"]=["#f9fbe7","#f0f4c3","#e6ee9c","#dce775","#d4e157","#cddc39","#c0ca33","#afb42b","#9e9d24","#827717"].reverse(),i["material.yellow"]=["#fffde7","#fff9c4","#fff59d","#fff176","#ffee58","#ffeb3b","#fdd835","#fbc02d","#f9a825","#f57f17"].reverse(),i["material.amber"]=["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"].reverse(),i["material.orange"]=["#fff3e0","#ffe0b2","#ffcc80","#ffb74d","#ffa726","#ff9800","#fb8c00","#f57c00","#ef6c00","#e65100"].reverse(),i["material.deeporange"]=["#fbe9e7","#ffccbc","#ffab91","#ff8a65","#ff7043","#ff5722","#f4511e","#e64a19","#d84315","#bf360c"].reverse(),i["material.brown"]=["#efebe9","#d7ccc8","#bcaaa4","#a1887f","#8d6e63","#795548","#6d4c41","#5d4037","#4e342e","#3e2723"].reverse(),i["material.grey"]=["#fafafa","#f5f5f5","#eeeeee","#e0e0e0","#bdbdbd","#9e9e9e","#757575","#616161","#424242","#212121"].reverse(),i["material.bluegrey"]=["#eceff1","#cfd8dc","#b0bec5","#90a4ae","#78909c","#607d8b","#546e7a","#455a64","#37474f","#263238"].reverse(),i["material.setOne"]=["#b71c1c","#0d47a1","#1b5e20","#4a148c","#e65100","#f57f17","#3e2723"],i["material.setTwo"]=["#c62828","#1565c0","#2e7d32","#6a1b9a","#ef6c00","#9e9d24","#4e342e"],i["material.setThree"]=["#d32f2f","#1976d2","#388e3c","#7b1fa2","#f57c00","#fbc02d","#5d4037"],i["brewer.SetOne"]=["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],i["brewer.SetTwo"]=["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],i["brewer.SetThree"]=["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],null!=getValueFromData(e,null)){let l=[],r=i[e],o=Math.ceil(t/r.length);for(var a=0;a<=o-1;a++)l=l.concat(r);return l}return i}catch(e){console.exception(`get: error: ${e.message}, stack: ${e.stack}`)}},preview:function(e){try{let e=vis.binds.materialdesign.colorScheme.get(),i=[];for(var t in e)if(e.hasOwnProperty(t)){let l=`<div style="display: flex; margin-top: 4px">\n                                        <label style="min-width: 180px; color: black">${t}:</label>`;for(var a=0;a<=e[t].length;a++)l+=`<div style="min-width: 30px; min-height: 4px; margin-left: 4px; background: ${e[t][a]}"></div>`;i.push(l+"</div>")}return i.join("")}catch(e){console.exception(`preview: error: ${e.message}, stack: ${e.stack}`)}},editorSelector:function(e){try{let t=vis.binds.materialdesign.colorScheme.get();return{input:'<input type="text" id="inspect_'+e+'" class="vis-edit-textbox"/>',init:function(e,a){$(this).autocomplete({minLength:0,source:function(e,a){var i=$.grep(Object.keys(t),function(t){return t.toLowerCase().includes(e.term.toLowerCase())});a(i)},select:function(e,t){$(this).val(t.item.value),$(this).trigger("change",t.item.value)}}).focus(function(){$(this).autocomplete("search","")}).autocomplete("instance")._renderItem=function(e,a){let i=t[a.label],l='<div style="display: flex; margin-top: 4px;">';for(var r=0;r<=i.length;r++)l+=`<div style="min-width: 20px; min-height: 4px; margin-left: 4px; background: ${i[r]}"></div>`;return l+="</div>",$("<li>").append("<a><span>"+a.label+"</span></a>").append(l).appendTo(e)}}}}catch(e){console.exception(`editorSelector: error: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.dialog={initialize:function(e,t=!1){try{let a=getValueFromData(e.title,""),i=getFontSize(e.titleTextSize),l=getValueFromData(e.buttonText,"");return`<div class="mdc-dialog"\n                        role="alertdialog"\n                        aria-modal="true"\n                        aria-labelledby="my-dialog-title"\n                        aria-describedby="my-dialog-content"\n                        style="z-index: ${getNumberFromData(e.z_index,1e3)}">\n                        <div class="mdc-dialog__container">\n                        <div class="mdc-dialog__surface">\n                            <!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->\n                            <h2 class="mdc-dialog__title ${i.class}" id="my-dialog-title" style="${""===a?"display: none;":""}${i.style}" >${getValueFromData(e.title,"")}</h2>\n                            <div class="mdc-dialog__content" id="my-dialog-content">\n                                ${vis.editMode&&!t?`<div data-vis-contains="${e.contains_view}" class="vis-widget-body vis-view-container" style="position: relative"></div>`:""}\n                                <!-- vis container for view generated at runtime --!>\n                                \n                                ${t?`<iframe src="${e.src}" ${e.noSandbox?"":'sandbox="allow-modals allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts"'} style="position: relative; border: 0; padding: 0; margin: 0; width: 100%; height: 100%; ${e.scrollX?"overflow-x: scroll;":"overflow-x: hidden;"} ${e.scrollY?"overflow-y: scroll;":"overflow-y: hidden;"}" ${e.seamless?"seamless":""}></iframe>`:""}\n                            </div>\n                            <footer class="mdc-dialog__actions" ${""===l?'style="display: none"':""}>\n                            <button type="button" class="mdc-button mdc-dialog__button" ${vis.editMode?"":'data-mdc-dialog-action="close"'} >\n                            <span class="mdc-button__label">${l}</span>\n                            </button>\n                        </footer>\n                        </div>\n                        </div>\n                        <div class="mdc-dialog__scrim"></div>\n                    </div>`}catch(e){console.exception(`initialize: error: ${e.message}, stack: ${e.stack}`)}},handle:function(e,t,a=!1){try{setTimeout(function(){var i=$(e);let l=i.find(".mdc-dialog"),r=window.getComputedStyle(i.context,null).width,o=window.getComputedStyle(i.context,null).height;l.get(0).style.setProperty("--materialdesign-color-dialog-background",getValueFromData(t.colorBackground,"")),l.get(0).style.setProperty("--materialdesign-color-dialog-title-background",getValueFromData(t.colorTitleBackground,"")),l.get(0).style.setProperty("--materialdesign-color-dialog-title",getValueFromData(t.colorTitle,"")),l.get(0).style.setProperty("--materialdesign-color-dialog-button-background",getValueFromData(t.colorButtonBackground,"")),l.get(0).style.setProperty("--materialdesign-color-dialog-button-text",getValueFromData(t.colorButtonText,"")),l.get(0).style.setProperty("--materialdesign-color-dialog-button-hover",getValueFromData(t.colorButtonHover,""));const s=new mdc.dialog.MDCDialog(l.get(0));mdc.ripple.MDCRipple.attachTo(l.find(".mdc-button").get(0));s.escapeKeyAction="",s.scrimClickAction="",vis.editMode&&t.showInEditor?(l.find(".mdc-dialog__container").css("width","100%").css("height","100%"),l.find(".mdc-dialog__surface").css("width","100%").css("height","100%"),l.css("position","relative"),l.find(".mdc-dialog__scrim").hide(),s.open()):vis.editMode||(l.find(".mdc-dialog__container").css("width",r.replace("px","")).css("height",o.replace("px","")),l.find(".mdc-dialog__surface").css("width","100%").css("height","100%"),t.showInCenterOfScreen||l.css("position","absolute"),vis.states.bind(t.showDialogOid+".ts",function(e,a,i){let l=vis.states.attr(t.showDialogOid+".val");s.isOpen||!0!==l&&"true"!==l?!s.isOpen||!1!==l&&"false"!==l||s.close():s.open()}),vis.editMode||s.listen("MDCDialog:closing",function(){vis.setValue(t.showDialogOid,!1),vis.binds.materialdesign.helper.vibrate(t.vibrateOnMobilDevices)}),s.listen("MDCDialog:opened",()=>{if(a)vis.binds.basic.iframeRefresh(l,t,this.view);else{let e=t.contains_view;vis.views[e]&&vis.renderView(e,e,!0,function(e){$("#visview_"+e).css("position","relative").appendTo(l.find(".mdc-dialog__content")).show().data("persistent",!0)})}}))},1)}catch(e){console.exception(`handle: error: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.drawer={initializeTopAppBar:function(e){try{let t="",a="",i="",l="";"standard"===e.topAppBarLayout?l="mdc-top-app-bar--fixed-adjust":"dense"===e.topAppBarLayout?(t="mdc-top-app-bar--dense",l="mdc-top-app-bar--dense-fixed-adjust"):"short"===e.topAppBarLayout&&(t="mdc-top-app-bar--short mdc-top-app-bar--short-collapsed",l="mdc-top-app-bar--short-fixed-adjust");let r=getValueFromData(e.topAppBarZ_index,"","z-index: ",";");return a=vis.editMode?`style="position: absolute;${r}"`:`style="position: fixed;${r}"`,"modal"!==e.drawerLayout&&"dismissible"!==e.drawerLayout||(i=`<button \n                                        class="mdc-icon-button material-icons mdc-top-app-bar__navigation-icon mdc-ripple-upgraded--unbounded mdc-ripple-upgraded" \n                                        style="--mdc-ripple-fg-size:28px; --mdc-ripple-fg-scale:1.7142857142857142; --mdc-ripple-left:10px; --mdc-ripple-top:10px;${getValueFromData(e.colorTopAppBarTitle,"","color: ",";")}">\n                                            menu\n                                        </button>`),{headerLayout:t,headerStyle:a,contentLayout:l,headerButtonShow:i}}catch(t){console.exception(`initializeTopAppBar [${e.wid}]: error:: ${t.message}, stack: ${t.stack}`)}},initializeDrawer:function(e){try{let l=[],r=[],o="",s="",n="",d="";return t(),a(),i(),{viewsList:l,drawerItemList:r.join(""),drawerHeader:o,drawerLayout:s,drawerStyle:n,drawerModalScrim:d};function t(){let t=getValueFromData(e.drawerWidth,"","width: ","px;"),a="",i="";void 0!==e.z_index&&null!==e.z_index&&""!==e.z_index&&(a=`z-index: ${e.z_index};`,i=`z-index: ${e.z_index-1};`);let l="";"modal"===e.drawerLayout?(s="mdc-drawer--modal",vis.editMode?l="position: absolute;":d=`<div class="mdc-drawer-scrim" style="${i}"></div>`):vis.editMode?(s="mdc-drawer--dismissible mdc-drawer--open",l="position: absolute;"):(s="mdc-drawer--dismissible mdc-drawer--open",l="position: fixed;"),n=`style="${t}${a}${l}"`}function a(){!0!==e.attr("showHeader")&&"true"!==e.attr("showHeader")||(o=`<div \n                                        class="mdc-drawer__header" \n                                        ${getValueFromData(e.colorDrawerHeaderBackground,"",'style="background: ','"')}>\n                                            ${e.headerLabel}\n                                    </div>`)}function i(){let t=getFontSize(e.listItemHeaderTextSize),a=getValueFromData(e.drawerIconHeight,"","height: ","px !important;"),i=getValueFromData(e.drawerSubItemIconHeight,a,"height: ","px !important;"),o=getFontSize(e.listItemTextSize),s=getFontSize(e.listSubItemTextSize),n=e.showLabels?"":"display: none;",d=e.showSubItemsLabels?"":"display: none;",c=getValueFromData(e.backdropLabelBackgroundHeight,"height: auto;","height: ","%;"),m=getValueFromData(e.backdropSubLabelBackgroundHeight,c,"height: ","%;"),u=0;for(var g=0;g<=e.count;g++){let b=getValueFromData(e.attr("headers"+g),null),h=getValueFromData(e.attr("labels"+g),e.attr("contains_view_"+g)),v=getValueFromData(e.attr("iconDrawer"+g),""),f="",y=!1,F="",x="";if(e.attr("contains_view_"+g)&&e.attr("contains_view_"+g).includes("|")){if(l.push(""),f=e.attr("contains_view_"+g).split("|"),f.length>0){y=!0;let t=getValueFromData(e.attr("labels"+g),null);if(null===t)h=e.attr("contains_view_"+g);else try{F=JSON.parse(t),h=F.itemText}catch{F="",h="Error: wrong format!"}let a=getValueFromData(e.attr("iconDrawer"+g),null);if(null!==a)try{x=JSON.parse(a),v=x.itemImage}catch{x=""}}}else l.push(e.attr("contains_view_"+g));let D=getListItemHeader(b,t);r.push(D);let w=getListItem(e.drawerItemLayout,u,v,y,!1,a),$="";"standard"===e.drawerItemLayout&&($=getListItemImage(v,a));let V=getListItemLabel(e.drawerItemLayout,u,h,y,o,n,e.colorSubItemToggleIcon,c,!1,e.listItemAlignment);if(r.push(`${w}${$}${V}</div>`),y){r.push('<nav class="mdc-list mdc-sub-list">');for(var p=0;p<=f.length-1;p++){l.push(f[p].trim()),u++;let t="";x&&x.subItems&&x.subItems.length>0&&(t=getValueFromData(x.subItems[p],""));let a="";a=F&&F.subItems&&F.subItems.length>0?getValueFromData(F.subItems[p],f[p]):f[p];let o=getListItem(e.drawerSubItemLayout,u,t,!1,!0,i),n="";"standard"===e.drawerSubItemLayout&&(n=getListItemImage(t,i));let c=getListItemLabel(e.drawerSubItemLayout,u,a,!1,s,d,"",m,!0,e.listSubItemAlignment);r.push(`${o}${n}${c}</div>`)}r.push("</nav>")}r.push(getListItemDivider(e.attr("dividers"+g),e.listItemDividerStyle)),u++}}}catch(t){console.exception(`initializeDrawer [${e.wid}]: error:: ${t.message}, stack: ${t.stack}`)}},handler:function(e,t){try{let r=$(e),o=r.parent().parent().get(0),s=r.context,n=r.parent().find(".mdc-top-app-bar").get(0),d=r.parent().find(".mdc-list").get(0);setTimeout(function(){if(r.parent().parent().css("left","0px"),r.parent().parent().css("top","0px"),"modal"===t.drawerLayout){let e=window.getComputedStyle(o,null).width;"short"!==t.topAppBarLayout&&r.parent().find(".mdc-top-app-bar").css("width",e)}else{let e=window.getComputedStyle(o,null).width,a=window.getComputedStyle(s,null).width,i=e.replace("px","")-a.replace("px","");"short"!==t.topAppBarLayout?r.parent().find(".mdc-top-app-bar").css("width",i):vis.editMode||r.parent().find(".mdc-top-app-bar").css("left",a),r.parent().find(".drawer-frame-app-content").css("left",a)}},1);let c=getValueFromData(t.colorDrawerBackground,"");s.style.setProperty("--materialdesign-color-drawer-background",c),d.style.setProperty("--materialdesign-color-drawer-sub-background",getValueFromData(t.colorDrawerSubBackground,c));let m=getValueFromData(t.colorDrawerItemBackground,c);d.style.setProperty("--materialdesign-color-list-item-background",m),d.style.setProperty("--materialdesign-color-sub-list-item-background",getValueFromData(t.colorDrawerSubItemBackground,m));let u=getValueFromData(t.colorListItemSelected,"");d.style.setProperty("--materialdesign-color-list-item-selected",u),d.style.setProperty("--materialdesign-color-sub-list-item-selected",getValueFromData(t.colorListSubItemSelected,u));let g=getValueFromData(t.colorListItemHover,"");d.style.setProperty("--materialdesign-color-list-item-hover",g),d.style.setProperty("--materialdesign-color-sub-list-item-hover",getValueFromData(t.colorListSubItemHover,g));let p=getValueFromData(t.colorListItemText,"");d.style.setProperty("--materialdesign-color-list-item-text",p),d.style.setProperty("--materialdesign-color-sub-list-item-text",getValueFromData(t.colorListSubItemText,p));let b=getValueFromData(t.colorListItemTextSelected,"");d.style.setProperty("--materialdesign-color-list-item-text-activated",b),d.style.setProperty("--materialdesign-color-sub-list-item-text-activated",getValueFromData(t.colorListSubItemTextSelected,b)),d.style.setProperty("--materialdesign-color-list-item-header",getValueFromData(t.colorListItemHeaders,"")),d.style.setProperty("--materialdesign-color-list-item-divider",getValueFromData(t.colorListItemDivider,""));let h=getValueFromData(t.colorDrawerbackdropLabelBackground,"");d.style.setProperty("--materialdesign-color-list-item-backdrop",h),d.style.setProperty("--materialdesign-color-sub-list-item-backdrop",getValueFromData(t.colorDrawerbackdropSubLabelBackground,h));let v=getValueFromData(t.colorDrawerbackdropLabelBackgroundActive,"");d.style.setProperty("--materialdesign-color-list-item-backdrop-activated",v),d.style.setProperty("--materialdesign-color-sub-list-item-backdrop-activated",getValueFromData(t.colorDrawerbackdropSubLabelBackgroundActive,v)),n.style.setProperty("--mdc-theme-primary",getValueFromData(t.colorTopAppBarBackground,""));const f=new mdc.drawer.MDCDrawer(s),y=new mdc.topAppBar.MDCTopAppBar(n),F=new mdc.list.MDCList(d);F.listElements.map(e=>new mdc.ripple.MDCRipple(e));y.setScrollTarget(r.parent().find(".mdc-top-app-bar-content").get(0)),y.listen("MDCTopAppBar:nav",()=>{if(vis.binds.materialdesign.helper.vibrate(t.vibrateTopAppBarOnMobilDevices),"dismissible"===t.drawerLayout)if(f.open){let e=window.getComputedStyle(o,null).width;window.getComputedStyle(s,null).width;"short"!==t.topAppBarLayout?r.parent().find(".mdc-top-app-bar").css("width",e):vis.editMode||r.parent().find(".mdc-top-app-bar").css("left","0px"),r.parent().find(".drawer-frame-app-content").css("left","0px"),f.open=!f.open}else{let e=window.getComputedStyle(o,null).width,a=window.getComputedStyle(s,null).width,i=e.replace("px","")-a.replace("px","");f.open=!f.open,setTimeout(function(){"short"!==t.topAppBarLayout?r.parent().find(".mdc-top-app-bar").css("width",i):vis.editMode||r.parent().find(".mdc-top-app-bar").css("left",a),r.parent().find(".drawer-frame-app-content").css("left",a)},250)}else f.open=!f.open});var a=vis.states.attr(t.oid+".val");function i(){if(t.showSelectedItemAsTitle){let e=r.parent().find(`span[id="listItem_${F.selectedIndex}"]`).text();r.parent().find(".mdc-top-app-bar__title").text(e)}}function l(e){let t=r.find(`.mdc-list-item[id="listItem_${e}"]`);if(t.hasClass("isSubItem")){let e=t.parent().prev(".hasSubItems");e.hasClass("toggled")||(e.addClass("toggled"),e.find(".toggleIcon").html("keyboard_arrow_up"),e.next("nav.mdc-sub-list").toggle())}}l(a),F.selectedIndex=a,i(),vis.states.bind(t.oid+".val",function(e,t,a){l(t),F.selectedIndex=t,i()}),r.find(".mdc-list-item").click(function(){let e=parseInt($(this).eq(0).attr("id").replace("listItem_",""));vis.binds.materialdesign.helper.vibrate(t.vibrateDrawerOnMobilDevices),$(this).hasClass("hasSubItems")?($(this).hasClass("toggled")?($(this).removeClass("toggled"),$(this).find(".toggleIcon").html("keyboard_arrow_down")):($(this).addClass("toggled"),$(this).find(".toggleIcon").html("keyboard_arrow_up")),$(this).next("nav.mdc-sub-list").toggle(),F.selectedIndex=e):(a=vis.states.attr(t.oid+".val"),a!=e&&(vis.setValue(t.oid,e),i(),setTimeout(function(){window.scrollTo({top:0,left:0})},50)),"modal"===t.drawerLayout&&(f.open=!1))})}catch(e){console.exception(`mdcTopAppBarWithDrawer [${t.wid}]: error:: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.helper={vibrate:function(e){try{"vibrate"in navigator&&window.navigator.vibrate(e)}catch(e){console.exception(`vibrate [${data.wid}]: error: ${e.message}, stack: ${e.stack}`)}},waitForElement:function(e,t,a){window.setTimeout(function(){e.find(t).length?a(t,$(t)):(console.log("wait"),vis.binds.materialdesign.helper.waitForElement(e,t,a))},50)},installedVersion:function(e,t){setTimeout(function(){let t='version: "0.2.34"';console.log(t),$(e).find(".materialdesign-installed-version-badge").attr("src",`https://img.shields.io/badge/installed-${t.replace('version: "',"").replace('"',"")}-%234ac51c`)},1)}},vis.binds.materialdesign.list={initialize:function(e){try{let a=getValueFromData(e.listItemHeight,"","height: ","px !important;");"buttonToggle_readonly"!==e.listType&&"checkbox_readonly"!==e.listType&&"switch_readonly"!==e.listType||(a+="cursor: default; pointer-events: none;");let i=getFontSize(e.listItemHeaderTextSize),l=getFontSize(e.listItemTextSize),r=getFontSize(e.listItemSubTextSize),o=getFontSize(e.listItemTextRightSize),s=getFontSize(e.listItemSubTextRightSize),n=getValueFromData(e.listImageHeight,"","height: ","px !important;"),d=getValueFromData(e.distanceBetweenTextAndImage,"","margin-right: ","px;"),c=getValueFromData(e.rightTextWidth,"","","px"),m="",u="";"text"===e.listType?m=" mdc-list--non-interactive":"checkbox"!==e.listType&&"checkbox_readonly"!==e.listType&&"switch"!==e.listType&&"switch_readonly"!==e.listType||(u='role="checkbox"');let g=[],p="";"card"===e.listLayout?p="materialdesign-list-card":"cardOutlined"===e.listLayout&&(p="materialdesign-list-card materialdesign-list-card--outlined");for(var t=0;t<=e.count;t++){let m=getValueFromData(e.attr("groupHeader"+t),null),p=getValueFromData(e.attr("label"+t),`Item ${t}`),b=getValueFromData(e.attr("subLabel"+t),""),h=getValueFromData(e.attr("listImage"+t),""),v=getValueFromData(e.attr("rightLabel"+t),""),f=getValueFromData(e.attr("rightSubLabel"+t),"");g.push(getListItemHeader(m,i));let y=getListItem("standard",t,"",!1,!1,a,`data-oid="${e.attr("oid"+t)}"`,u).replace(" mdc-list-item--activated",""),F="";F=""===b?getListItemLabel("standard",t,p,!1,l,"","","",!1,e.listItemAlignment):getListItemTextElement(p,b,l,r,e.listItemAlignment);let x="";""===f?(x=getListItemLabel("standard",t,v,!1,o,"","",""),x=$($.parseHTML(x)),x.addClass("materialdesign-list-item-text-right").addClass("mdc-list-item__meta")):(x=getListItemTextElement(v,f,o,s),x=$($.parseHTML(x)),x.addClass("mdc-list-item__meta"),x.find(".mdc-list-item__primary-text").css("justify-content","flex-end").css("width","auto").addClass("materialdesign-list-item-text-right"),x.find(".mdc-list-item__secondary-text").addClass("materialdesign-list-item-text-right")),x.css("text-align","right").css("width",c);let D=getListItemImage(h,`${n}${d}`),w="";"checkbox"===e.listType||"checkbox_readonly"===e.listType?w=`<div class="mdc-checkbox ${"checkbox_readonly"===e.listType?"mdc-checkbox--disabled":""} mdc-list-item__meta">\n                                        <input type="checkbox" class="mdc-checkbox__native-control" tabindex="-1" data-oid="${e.attr("oid"+t)}" itemindex="${t}" />\n                                        <div class="mdc-checkbox__background">\n                                            <svg class="mdc-checkbox__checkmark" viewBox="0 0 24 24">\n                                                <path class="mdc-checkbox__checkmark-path" fill="none" stroke="white" d="M1.73,12.91 8.1,19.28 22.79,4.59"></path>\n                                            </svg>\n                                        </div>\n                                    </div>`:"switch"!==e.listType&&"switch_readonly"!==e.listType||(w=`<div class="mdc-switch ${"switch_readonly"===e.listType?"mdc-switch--disabled":""} mdc-list-item__meta">\n                                        <div class="mdc-switch__track"></div>\n                                        <div class="mdc-switch__thumb-underlay">\n                                            <div class="mdc-switch__thumb">\n                                                <input type="checkbox" id="basic-switch" class="mdc-switch__native-control" role="switch" data-oid="${e.attr("oid"+t)}" itemindex="${t}">\n                                            </div>\n                                        </div>\n                                    </div>`),g.push(`${y}${D}${F}${w}${x.get(0).outerHTML}</div>`),g.push(getListItemDivider(e.attr("dividers"+t),e.listItemDividerStyle))}return{itemList:g.join(""),listLayout:p,nonInteractive:m}}catch(e){console.exception(`initialize: error:: ${e.message}, stack: ${e.stack}`)}},handler:function(e,t){try{let l=$(e),r=l.context;const o=new mdc.list.MDCList(r),s=o.getDefaultFoundation().adapter_;o.listElements.map(e=>new mdc.ripple.MDCRipple(e));r.style.setProperty("--materialdesign-color-list-item-background",getValueFromData(t.listItemBackground,"")),r.style.setProperty("--materialdesign-color-list-item-hover",getValueFromData(t.colorListItemHover,"")),r.style.setProperty("--materialdesign-color-list-item-selected",getValueFromData(t.colorListItemSelected,"")),r.style.setProperty("--materialdesign-color-list-item-text",getValueFromData(t.colorListItemText,"")),r.style.setProperty("--materialdesign-color-list-item-text-activated",getValueFromData(t.colorListItemText,"")),r.style.setProperty("--materialdesign-color-list-item-text-secondary",getValueFromData(t.colorListItemTextSecondary,"")),r.style.setProperty("--materialdesign-color-list-item-text-right",getValueFromData(t.colorListItemTextRight,"")),r.style.setProperty("--materialdesign-color-list-item-text-secondary-right",getValueFromData(t.colorListItemTextSecondaryRight,"")),r.style.setProperty("--materialdesign-color-list-item-header",getValueFromData(t.colorListItemHeaders,"")),r.style.setProperty("--materialdesign-color-list-item-divider",getValueFromData(t.colorListItemDivider,"")),r.style.setProperty("--mdc-theme-secondary",getValueFromData(t.colorCheckBox,"")),vis.editMode||o.listen("MDCList:action",function(e){let a=e.detail.index;if("text"!==t.listType&&vis.binds.materialdesign.helper.vibrate(t.vibrateOnMobilDevices),"checkbox"===t.listType||"switch"===t.listType){let e=s.isCheckboxCheckedAtIndex(a);vis.setValue(t.attr("oid"+a),e),i(a,e)}else if("buttonToggle"===t.listType){let e=vis.states.attr(t.attr("oid"+a)+".val");vis.setValue(t.attr("oid"+a),!e),i(a,!e)}else if("buttonState"===t.listType){let e=t.attr("listTypeButtonStateValue"+a);vis.setValue(t.attr("oid"+a),e)}else"buttonNav"===t.listType?vis.changeView(t.attr("listTypeButtonNav"+a)):"buttonLink"===t.listType&&window.open(t.attr("listTypeButtonLink"+a))});let n="switch"===t.listType||"switch_readonly"===t.listType?l.find(".mdc-switch").length:o.listElements.length;for(var a=0;a<=n-1;a++)if("checkbox"===t.listType||"checkbox_readonly"===t.listType||"switch"===t.listType||"switch_readonly"===t.listType){if("switch"!==t.listType&&"switch_readonly"!==t.listType||new mdc.switchControl.MDCSwitch(l.find(".mdc-switch").get(a)),"checkbox"===t.listType||"checkbox_readonly"===t.listType){let e=new mdc.checkbox.MDCCheckbox(l.find(".mdc-checkbox").get(a));"checkbox_readonly"===t.listType&&(e.disabled=!0)}let e=vis.states.attr(t.attr("oid"+a)+".val");s.setCheckedCheckboxOrRadioAtIndex(a,e),i(a,e),vis.states.bind(t.attr("oid"+a)+".val",function(e,t,a){let r=l.find('input[data-oid="'+e.type.substr(0,e.type.lastIndexOf("."))+'"]');r.each(function(e){let a=r.eq(e).attr("itemindex");s.setCheckedCheckboxOrRadioAtIndex(a,t),i(a,t)})})}else if("buttonToggle"===t.listType||"buttonToggle_readonly"===t.listType){let e=vis.states.attr(t.attr("oid"+a)+".val");i(a,e),vis.states.bind(t.attr("oid"+a)+".val",function(e,t,a){let r=l.parent().find('div[data-oid="'+e.type.substr(0,e.type.lastIndexOf("."))+'"]');r.each(function(e){let a=parseInt(r.eq(e).attr("id").replace("listItem_",""));i(a,t)})})}function i(e,a){let i=l.find(`div[id="listItem_${e}"]`),r=i.find(".mdc-list-item__graphic");!0===a?(i.css("background",getValueFromData(t.listItemBackgroundActive,"")),r.attr("src",getValueFromData(t.attr("listImageActive"+e),getValueFromData(t.attr("listImage"+e),"")))):(i.css("background",getValueFromData(t.listItemBackground,"")),r.attr("src",getValueFromData(t.attr("listImage"+e),"")))}}catch(e){console.exception(`handler: error: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.roundslider={handle:function(e,t){try{let i=$(e),l=i.attr("data-oid-working"),r=vis.binds.materialdesign.helper,o=vis.states.attr(t.oid+".val"),s=getNumberFromData(t.min,0),n=getValueFromData(t.valueLabelMin,null),d=getNumberFromData(t.max,100),c=getValueFromData(t.valueLabelMax,null),m=getValueFromData(t.valueLabelUnit,""),u=getNumberFromData(t.valueLessThan,s),g=getValueFromData(t.textForValueLessThan,null),p=getNumberFromData(t.valueGreaterThan,d),b=getValueFromData(t.textForValueGreaterThan,null),h=0;!0!==t.showValueLabel&&"true"!==t.showValueLabel||(h=t.valueLabelWidth),i.append(`<round-slider class="materialdesign-round-slider-element"\n                            value=${o} \n                            max="${d}" \n                            min="${s}"\n                            step="${getNumberFromData(t.step,1)}"\n                            startAngle="${getNumberFromData(t.startAngle,135)}"\n                            arcLength="${getNumberFromData(t.arcLength,270)}"\n                            handleSize="${getNumberFromData(t.handleSize,6)}"\n                            handleZoom="${getNumberFromData(t.handleZoom,1.5)}"\n                            ${!0===t.rtl?'rtl = "true"':""}\n                            style="position: absolute;"\n                            >\n                            </round-slider>\n                            \n                            ${t.showValueLabel?`<label class="labelValue" \n                                    style="position: relative; \n                                    text-align: center;\n                                    display: flex;\n                                    justify-content: center;\n                                    pointer-events: none;\n                                    top: ${getNumberFromData(t.valueLabelVerticalPosition,45)}%; \n                                    color: ${getValueFromData(t.valueLabelColor,"#44739e")};">\n                                        ${o} ${m}\n                                </label>`:""}\n                            `);let v=i.find(".materialdesign-round-slider-element");function a(e=!0,a=0){!1!==vis.states.attr(l+".val")&&"false"!==vis.states.attr(l+".val")&&vis.states.attr(l+".val")||(e&&(a=vis.states.attr(t.oid+".val"),v.attr("value",a)),a<=s&&null!=n?i.find(".labelValue").html(n):a>s&&a<=u&&null!=g?i.find(".labelValue").html(g):a>=p&&a<d&&null!=b?i.find(".labelValue").html(b):a>=d&&null!=c?i.find(".labelValue").html(c):i.find(".labelValue").html(`${a} ${m}`))}v.get(0).style.setProperty("--round-slider-path-width",getNumberFromData(t.sliderWidth,3)),v.get(0).style.setProperty("background",getValueFromData(t.colorSliderBg,"")),v.get(0).style.setProperty("--round-slider-path-color",getValueFromData(t.colorAfterThumb,"")),v.get(0).style.setProperty("--round-slider-bar-color",getValueFromData(t.colorBeforeThumb,"#44739e")),v.get(0).style.setProperty("--round-slider-handle-color",getValueFromData(t.colorThumb,"")),a(),vis.states.bind(t.oid+".val",function(e,t,i){a()}),vis.states.bind(l+".val",function(e,t,i){a()}),v.bind("value-changing",function(e){a(!1,e.target.__value)}),v.bind("value-changed",function(e){let i=parseFloat(e.target.__value);!1!==vis.states.attr(l+".val")&&"false"!==vis.states.attr(l+".val")&&vis.states.attr(l+".val")||(vis.setValue(t.oid,i),a())}),i.find(".materialdesign-round-slider-element").on("touchstart mousedown",function(e){r.vibrate(t.vibrateOnMobilDevices)})}catch(e){console.exception(`handle: error: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.select={initialize:function(e,t=!1){try{let i=[],l=getValueFromData(e.drawerIconHeight,"","height: ","px !important;"),r=getFontSize(e.listItemTextSize),o=getValueFromData(e.distanceBetweenTextAndImage,"","margin-right: ","px;"),s=getValueFromData(e.menuWidth,"","width: ","px;"),n="",d="",c="";"standard"===e.layout?(n=`<div class="mdc-select" style="width: 100%; z-index: ${getNumberFromData(e.z_index,0)}">`,d="filled_enhanced filled_enhanced-label",c=`<span class="mdc-floating-label mdc-floating-label--float-above">${getValueFromData(e.hintText,"")}</span>\n                                <div class="mdc-line-ripple"></div>`):(n='<div class="mdc-select mdc-select--outlined" style="width: 100%;">',d="shaped_filled_enhanced shaped_filled_enhanced-label",
c=`<div class="mdc-notched-outline">\n                                    <div class="mdc-notched-outline__leading"></div>\n                                    <div class="mdc-notched-outline__notch">\n                                        <label class="mdc-floating-label">${getValueFromData(e.hintText,"")}</label>\n                                    </div>\n                                    <div class="mdc-notched-outline__trailing"></div>\n                                </div>`);let m="",u=[],g="";if(t){let t=getValueFromData(e.image,null),a=getValueFromData(e.imageTrue,null);null==t&&null==a||(n=$($.parseHTML(n)).addClass("mdc-select--with-leading-icon").get(0).outerHTML.replace("</div>",""),m=`<img class="mdc-select__icon" tabindex="0" role="button" src="${t}" />`),u.push(`${getListItem("standard",0,"",!1,!1,l,"","",!1)}\n                                                ${null!=t?getListItemImage(t,`${l}${o}`):""}\n                                                ${getListItemLabel("standard",0,getValueFromData(e.text_false,"Item false"),!1,r,"",0)}</div>`),u.push(`${getListItem("standard",1,"",!1,!1,l,"","",!0)}\n                                                ${null!=a?getListItemImage(a,`${l}${o}`):""}\n                                                ${getListItemLabel("standard",1,getValueFromData(e.text_true,"Item true"),!1,r,"",0)}</div>`)}else{let t=!1,i="";for(var a=0;a<=e.values;a++){let s=getValueFromData(e.attr("menuIcon"+a),null);if(u.push(`${getListItem("standard",a,"",!1,!1,l,"","",getValueFromData(e.attr("value"+a),""))}\n                                                ${null!=s?getListItemImage(s,`${l}${o}`):""}\n                                                ${$($.parseHTML(getListItemLabel("standard",0,getValueFromData(e.attr("label"+a),getValueFromData(e.attr("value"+a),`no value for Item ${a}`)),!1,r,"",0))).css("width","").get(0).outerHTML}`),null!==s&&(t=!0,i=s),e.showValueOnRight){let t=getFontSize(e.valueRightFontsize);g=getListItemLabel("standard",a,getValueFromData(e.attr("value"+a))+getValueFromData(e.valueRightAppendix,""),!1,t,"","",""),g=$($.parseHTML(g)).css("width","auto"),g=g.addClass("materialdesign-list-item-text-right").addClass("mdc-list-item__meta").get(0).outerHTML,u.push(g)}u.push("</div>")}t&&(n=$($.parseHTML(n)).addClass("mdc-select--with-leading-icon").get(0).outerHTML.replace("</div>",""),m=`<img class="mdc-select__icon" tabindex="0" role="button" src="${i}" />`)}let p=getFontSize(e.selectTextSize);return i.push(`${n}\n                                        <div class="mdc-select__anchor">\n                                            ${m}\n                                            <i class="mdc-select__dropdown-icon"></i>\n                                            <div id="filled_enhanced" \n                                                class="mdc-select__selected-text ${p.class}" \n                                                role="button" \n                                                aria-haspopup="listbox" \n                                                aria-labelledby="${d}"\n                                                style="${p.style}; font-family: ${getValueFromData(e.selectTextFont,"")};">\n                                            </div>\n                                            ${c}\n                                        </div>\n                                        <div class="mdc-select__menu mdc-menu mdc-menu-surface" style="${s}; z-index: ${getNumberFromData(e.z_index,0)}">\n                                            <ul class="mdc-list">\n                                                ${u.join("")}\n                                            </ul>\n                                        </div>\n                                        \n                                    </div>`),i.join("")}catch(e){console.exception(`initialize: error: ${e.message}, stack: ${e.stack}`)}},handle:function(e,t,a){try{setTimeout(function(){function i(e){if(a)e?(s.selectedIndex=1,n.selectedIndex=1,l.find(".mdc-select__icon").attr("src",getValueFromData(t.imageTrue,""))):(s.selectedIndex=0,n.selectedIndex=0,l.find(".mdc-select__icon").attr("src",getValueFromData(t.image,"")));else for(var i=0;i<=t.values;i++)if(e.toString()===getValueFromData(t.attr("value"+i),"").toString()){s.selectedIndex=i,n.selectedIndex=i,l.find(".mdc-select__icon").attr("src",getValueFromData(t.attr("menuIcon"+i),""));break}}var l=$(e);let r=l.find(".mdc-select").get(0),o=l.find(".mdc-list").get(0);const s=new mdc.select.MDCSelect(r),n=new mdc.list.MDCList(o);n.listElements.map(e=>new mdc.ripple.MDCRipple(e));r.style.setProperty("--materialdesign-color-select-background",getValueFromData(t.selectBackground,"")),r.style.setProperty("--materialdesign-color-select-background-hover",getValueFromData(t.selectBackgroundHover,"")),r.style.setProperty("--materialdesign-color-select-hint",getValueFromData(t.selectHintTextColor,"")),r.style.setProperty("--materialdesign-color-select-hint_selected",getValueFromData(t.selectHintTextColorSelected,"")),r.style.setProperty("--materialdesign-color-select-border",getValueFromData(t.selectBorderColor,"")),r.style.setProperty("--materialdesign-color-select-border-selected",getValueFromData(t.selectBorderColorSelected,"")),r.style.setProperty("--materialdesign-color-select-text",getValueFromData(t.selectTextColor,""));let d=getValueFromData(t.colorDrawerBackground,"");o.style.setProperty("--materialdesign-color-drawer-background",d),o.style.setProperty("--materialdesign-color-list-item-background",getValueFromData(t.colorDrawerItemBackground,d)),o.style.setProperty("--materialdesign-color-list-item-selected",getValueFromData(t.colorListItemSelected,"")),o.style.setProperty("--materialdesign-color-list-item-hover",getValueFromData(t.colorListItemHover,"")),o.style.setProperty("--materialdesign-color-list-item-text",getValueFromData(t.colorListItemText,"")),o.style.setProperty("--materialdesign-color-list-item-text-activated",getValueFromData(t.colorListItemTextSelected,"")),o.style.setProperty("--materialdesign-color-list-item-text-right",getValueFromData(t.colorListItemTextRight,"")),i(vis.states.attr(t.oid+".val")),vis.states.bind(t.oid+".val",function(e,t,a){i(t)}),vis.editMode||s.listen("MDCSelect:change",function(){a?vis.setValue(t.oid,"true"===s.value):vis.setValue(t.oid,s.value),vis.binds.materialdesign.helper.vibrate(t.vibrateOnMobilDevices)}),l.find(".mdc-select").click(function(){vis.binds.materialdesign.helper.vibrate(t.vibrateOnMobilDevices)})},1)}catch(e){console.exception(`handleBoolean: error: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.slider=function(e,t){try{let a=$(e),i=a.attr("data-oid-working"),l=vis.binds.materialdesign.helper,r="#44739e",o=getValueFromData(t.min,0),s=getValueFromData(t.valueLabelMin,null),n=getValueFromData(t.max,100),d=getValueFromData(t.valueLabelMax,null),c=getValueFromData(t.valueLabelUnit,""),m=getValueFromData(t.valueLessThan,o),u=getValueFromData(t.textForValueLessThan,null),g=getValueFromData(t.valueGreaterThan,n),p=getValueFromData(t.textForValueGreaterThan,null);a.append(`\n            <div class="materialdesign-vuetifySlider" style="width: 100%; height: 100%;">\n                <div class="v-row" style="align-items: center">\n                    <v-slider\n                        v-model="value"\n                        :vertical="vertical"\n                        :min="min"\n                        :max="max"\n                        :step="step"\n                        :ticks="ticks"\n                        :tick-size="tickSize"\n                        :tick-labels="tickLabels"\n                        :thumb-label="thumbLabel"\n                        :thumb-size="thumbSize"\n                        :loader-height="loaderHeight"\n                        :track-fill-color="trackFillColor"\n                        :thumb-color="thumbColor"\n                        :track-color="trackColor"                        \n                        always-dirty\n                        hide-details\n                        ${null!==getValueFromData(t.prepandText,null)?`label="${t.prepandText}"`:""}\n                        ${t.readOnly?"disabled":""}\n                        @change="changeEvent"\n                        @input="inputEvent"\n                    >\n                    </v-slider>\n                    ${t.showValueLabel?`<span class="slider-value" style="width: ${getNumberFromData(t.valueLabelWidth,0)}px; text-align:right; white-space: nowrap;">0</span>`:""}\n                </div>\n            </div>`);let b=!1;"yes"===getValueFromData(t.showTicks,"no")&&(b=!0),"always"===getValueFromData(t.showTicks,"no")&&(b="always");let h=!1;"yes"===getValueFromData(t.showThumbLabel,"no")&&(h=!0),"always"===getValueFromData(t.showThumbLabel,"no")&&(h="always"),l.waitForElement(a,".materialdesign-vuetifySlider",function(){l.waitForElement($("body"),"#materialdesign-vuetify-container",function(){function e(e=!0,l=0){!1!==vis.states.attr(i+".val")&&"false"!==vis.states.attr(i+".val")&&vis.states.attr(i+".val")||(e&&(l=vis.states.attr(t.oid+".val"),v.value=l),l<=o&&null!=s?(a.find(".slider-value").html(s),t.useLabelRules&&a.find(".v-slider__thumb-label").find("span").html(s)):l>o&&l<=m&&null!=u?(a.find(".slider-value").html(u),t.useLabelRules&&a.find(".v-slider__thumb-label").find("span").html(u)):l>=g&&l<n&&null!=p?(a.find(".slider-value").html(p),t.useLabelRules&&a.find(".v-slider__thumb-label").find("span").html(p)):l>=n&&null!=d?(a.find(".slider-value").html(d),t.useLabelRules&&a.find(".v-slider__thumb-label").find("span").html(d)):(a.find(".slider-value").html(`${l} ${c}`),t.useLabelRules&&a.find(".v-slider__thumb-label").find("span").html(`${l} ${c}`)))}let v=new Vue({el:a.find(".materialdesign-vuetifySlider").get(0),vuetify:new Vuetify({rtl:t.reverseSlider}),data:()=>({value:vis.states.attr(t.oid+".val"),vertical:"horizontal"!==getValueFromData(t.orientation,"horizontal"),min:o,max:n,step:getNumberFromData(t.step,1),ticks:b,tickSize:getNumberFromData(t.tickSize,1),tickLabels:null!==getValueFromData(t.tickLabels,null)?t.tickLabels.split(","):[],thumbLabel:h,thumbSize:getNumberFromData(t.thumbSize,32),loaderHeight:"30px",trackFillColor:getValueFromData(t.colorBeforeThumb,r),thumbColor:getValueFromData(t.colorThumb,r),trackColor:getValueFromData(t.colorAfterThumb,"rgba(161, 161, 161, 0.26)")}),mounted:function(){},methods:{changeEvent(a){!1!==vis.states.attr(i+".val")&&"false"!==vis.states.attr(i+".val")&&vis.states.attr(i+".val")||vis.setValue(t.oid,a),e()},inputEvent(t){e(!1,t)}}});if(a.find(".materialdesign-vuetifySlider").on("touchstart mousedown",function(){l.vibrate(t.vibrateOnMobilDevices)}),"vertical"===getValueFromData(t.orientation,"horizontal")){let e=window.getComputedStyle(a.context,null).height.replace("px",""),t=a.find(".v-slider--vertical");e=e-t.css("margin-top").replace("px","")-t.css("margin-bottom").replace("px",""),t.css("height",e+"px")}a.context.style.setProperty("--vue-slider-thumb-label-font-color",getValueFromData(t.thumbFontColor,"")),a.context.style.setProperty("--vue-slider-thumb-label-font-family",getValueFromData(t.thumbFontFamily,"")),a.context.style.setProperty("--vue-slider-thumb-label-font-size",getValueFromData(t.thumbFontSize,"12","","px")),a.find(".v-slider__thumb-label").css("background-color",getValueFromData(t.thumbBackgroundColor,getValueFromData(t.colorThumb,r))),a.context.style.setProperty("--vue-slider-tick-before-color",getValueFromData(t.tickColorBefore,"")),a.context.style.setProperty("--vue-slider-tick-after-color",getValueFromData(t.tickColorAfter,"")),a.find(".v-slider__thumb-container").css("height","0px"),"knobMedium"===t.knobSize&&a.find(".v-slider__thumb").addClass("medium-size"),"knobBig"===t.knobSize&&a.find(".v-slider__thumb").addClass("big-size"),e(),vis.states.bind(t.oid+".val",function(t,a,i){e()}),vis.states.bind(i+".val",function(t,a,i){e()})})})}catch(e){console.exception(`vertical: error: ${e.message}, stack: ${e.stack}`)}},vis.binds.materialdesign.table={initialize:function(e){try{let a=[],i=getFontSize(e.headerTextSize),l="";if("card"===e.tableLayout?l="materialdesign-list-card":"cardOutlined"===e.tableLayout&&(l="materialdesign-list-card materialdesign-list-card--outlined"),a.push(`<div class="mdc-data-table ${l}" style="width: 100%;">\n                                    <table class="mdc-data-table__table" aria-label="Material Design Widgets Table">`),a.push(`<thead>\n                                    <tr class="mdc-data-table__header-row" style="height: ${null!==getNumberFromData(e.headerRowHeight,null)?e.headerRowHeight+"px":"1px"};">`),e.showHeader)for(var t=0;t<=e.countCols;t++)e.attr("showColumn"+t)&&a.push(`<th class="mdc-data-table__header-cell ${i.class}" \n                                            colIndex="${t}" \n                                            role="columnheader" \n                                            scope="col" \n                                            style="text-align: ${e.attr("textAlign"+t)};\n                                                ${i.style}; \n                                                padding-left: ${getNumberFromData(e.attr("padding_left"+t),8)}px; \n                                                padding-right: ${getNumberFromData(e.attr("padding_right"+t),8)}px; \n                                                font-family: ${getValueFromData(e.headerFontFamily,"")};\n                                                ${null!==getNumberFromData(e.attr("columnWidth"+t),null)?`width: ${e.attr("columnWidth"+t)}px;`:""};">\n                                                    ${getValueFromData(e.attr("label"+t),"col "+t)}\n                                            </th>`);return a.push("</tr>\n                            </thead>"),a.push('<tbody class="mdc-data-table__content">'),null!==getValueFromData(e.oid,null)?a.push(vis.binds.materialdesign.table.getContentElements(vis.states.attr(e.oid+".val"),e)):a.push(vis.binds.materialdesign.table.getContentElements(e.dataJson,e)),a.push("</tbody>"),a.push("</table>\n                            </div>"),a.join("")}catch(e){console.exception(`initialize: error: ${e.message}, stack: ${e.stack}`)}},handle:function(e,t){try{setTimeout(function(){let a=$(e),i=a.find(".mdc-data-table").get(0);i.style.setProperty("--materialdesign-color-table-background",getValueFromData(t.colorBackground,"")),i.style.setProperty("--materialdesign-color-table-border",getValueFromData(t.borderColor,"")),i.style.setProperty("--materialdesign-color-table-header-row-background",getValueFromData(t.colorHeaderRowBackground,"")),i.style.setProperty("--materialdesign-color-table-header-row-text-color",getValueFromData(t.colorHeaderRowText,"")),i.style.setProperty("--materialdesign-color-table-row-background",getValueFromData(t.colorRowBackground,"")),i.style.setProperty("--materialdesign-color-table-row-text-color",getValueFromData(t.colorRowText,"")),i.style.setProperty("--materialdesign-color-table-row-divider",getValueFromData(t.dividers,""));new mdc.dataTable.MDCDataTable(i);vis.states.bind(t.oid+".val",function(e,i,l){a.find(".mdc-data-table__content").empty(),a.find(".mdc-data-table__content").append(vis.binds.materialdesign.table.getContentElements(i,t))}),a.find(".mdc-data-table__header-cell").click(function(e){function i(e,t,a){return e.sort(function(e,i){var l=e[t],r=i[t];return a?l<r?-1:l>r?1:0:l>r?-1:l<r?1:0})}let l=$(this).attr("colIndex"),r=!0,o=[];o=null!==getValueFromData(t.oid,null)?vis.binds.materialdesign.table.getJsonData(vis.states.attr(t.oid+".val"),t):JSON.parse(t.dataJson);let s=null!==getValueFromData(t.attr("sortKey"+l),null)?t.attr("sortKey"+l):Object.keys(o[0])[l];$(this).attr("sort")?"ASC"===$(this).attr("sort")?(r=!1,$(this).attr("sort","DESC"),$(this).text().includes("")||$(this).text().includes("")?$(this).text($(this).text().replace("","")):$(this).text($(this).text()+"")):(r=!0,$(this).attr("sort","ASC"),$(this).text().includes("")||$(this).text().includes("")?$(this).text($(this).text().replace("","")):$(this).text($(this).text()+"")):(r=!0,$(this).attr("sort","ASC"),$(this).text($(this).text()+"")),$(".mdc-data-table__header-cell").each(function(){$(this).attr("colIndex")!==l&&$(this).text($(this).text().replace("","").replace("",""))}),a.find(".mdc-data-table__content").empty(),a.find(".mdc-data-table__content").append(vis.binds.materialdesign.table.getContentElements(null,t,i(o,s,r)))})},1)}catch(e){console.exception(`handle: error: ${e.message}, stack: ${e.stack}`)}},getContentElements:function(e,t,a=null){let i=[];if(null===a&&(a=vis.binds.materialdesign.table.getJsonData(e,t)),null!=a){for(var l=0;l<=a.length-1;l++){if(i.push(`<tr class="mdc-data-table__row" style="height: ${null!==getNumberFromData(t.rowHeight,null)?t.rowHeight+"px":"1px"};">`),a[l]){let e=Object.keys(a[l]).length-1>t.countCols?t.countCols:Object.keys(a[l]).length-1;for(var r=0;r<=e;r++)if(t.attr("showColumn"+r)){let e=getFontSize(t.attr("colTextSize"+r));i.push(o(r,Object.values(a[l])[r],e,a[l]))}}i.push("</tr>")}function o(e,a,i,l=null){let r=getValueFromData(t.attr("prefix"+e),""),o=getValueFromData(t.attr("suffix"+e),"");if(null!=l){function s(e,t){let a=e.match(/(#\[obj\..*?\])/g);if(a&&a.length>0)for(var i=0;i<=a.length-1;i++){let l=a[i].replace("#[obj.","").replace("]","");e=l&&t[l]?e.replace(a[i],t[l]):e.replace(a[i],"")}return e}""!==r&&(r=s(r,l)),""!==o&&(o=s(o,l))}return"image"===t.attr("colType"+e)&&(a=`<img src="${a}" style="height: auto; vertical-align: middle; width: ${getValueFromData(t.attr("imageSize"+e),"","","px;")}">`),`<td class="mdc-data-table__cell ${i.class}" \n                            style="\n                            text-align: ${t.attr("textAlign"+e)};${i.style}; \n                            padding-left: ${getNumberFromData(t.attr("padding_left"+e),8)}px; \n                            padding-right: ${getNumberFromData(t.attr("padding_right"+e),8)}px; \n                            color: ${getValueFromData(t.attr("colTextColor"+e),"")}; \n                            font-family: ${getValueFromData(t.attr("fontFamily"+e),"")};\n                            white-space: ${t.attr("colNoWrap"+e)?"nowrap":"unset"};\n                            ">\n                                ${r}${a}${o}\n                        </td>`}return i.join("")}},getJsonData:function(e,t){let a=[];if(e&&"string"==typeof e)try{a=JSON.parse(e)}catch(t){console.error(`input: ${e}, error: ${t.message}`)}else if(a=e,!Array.isArray(a)){a=Object.keys(a).map(function(e){return a[e]});let e=[];for(var i=0;i<=Object.keys(a).length-1;i++)a[i]._data&&e.push(a[i]._data);a=e}return a}},vis.binds.materialdesign.topappbarnav={initializeTopAppBar:function(e){try{let t="",a=getValueFromData(e.topAppBarZ_index,"","z-index: ",";"),i=`style="${a}"`,l="",r="";return"standard"===e.topAppBarLayout?r="mdc-top-app-bar--fixed-adjust":"dense"===e.topAppBarLayout?(t="mdc-top-app-bar--dense",r="mdc-top-app-bar--dense-fixed-adjust"):"short"===e.topAppBarLayout&&(t="mdc-top-app-bar--short mdc-top-app-bar--short-collapsed",r="mdc-top-app-bar--short-fixed-adjust"),"modal"===e.drawerLayout&&(l=`<button \n                                        class="mdc-icon-button material-icons mdc-top-app-bar__navigation-icon mdc-ripple-upgraded--unbounded mdc-ripple-upgraded" \n                                        style="--mdc-ripple-fg-size:28px; --mdc-ripple-fg-scale:1.7142857142857142; --mdc-ripple-left:10px; --mdc-ripple-top:10px;${getValueFromData(e.colorTopAppBarTitle,"","color: ",";")}">\n                                            menu\n                                        </button>`),{headerLayout:t,headerStyle:i,contentLayout:r,headerButtonShow:l}}catch(t){console.exception(`initializeTopAppBar [${e.wid}]: error:: ${t.message}, stack: ${t.stack}`)}},initializeDrawer:function(e){try{let l=[],r=[],o="",s="",n="",d="";return t(),a(),i(),{viewsList:l,drawerItemList:r.join(""),drawerHeader:o,drawerLayout:s,drawerStyle:n,drawerModalScrim:d};function t(){let t=getValueFromData(e.drawerWidth,"","width: ","px;"),a="",i="";void 0!==e.z_index&&null!==e.z_index&&""!==e.z_index&&(a=`z-index: ${e.z_index};`,i=`z-index: ${e.z_index-1};`),"modal"===e.drawerLayout?(s="mdc-drawer--modal",d=`<div class="mdc-drawer-scrim" style="${i}"></div>`):s="mdc-drawer--dismissible mdc-drawer--open",n=`style="${t}${a}"`}function a(){!0!==e.attr("showHeader")&&"true"!==e.attr("showHeader")||(o=`<div \n                                        class="mdc-drawer__header" \n                                        ${getValueFromData(e.colorDrawerHeaderBackground,"",'style="background: ','"')}>\n                                            ${e.headerLabel}\n                                    </div>`)}function i(){let t=getFontSize(e.listItemHeaderTextSize),a=getValueFromData(e.drawerIconHeight,"","height: ","px !important;"),i=getValueFromData(e.drawerSubItemIconHeight,a,"height: ","px !important;"),l=getFontSize(e.listItemTextSize),o=getFontSize(e.listSubItemTextSize),s=e.showLabels?"":"display: none;",n=e.showSubItemsLabels?"":"display: none;",d=getValueFromData(e.backdropLabelBackgroundHeight,"height: auto;","height: ","%;"),c=getValueFromData(e.backdropSubLabelBackgroundHeight,d,"height: ","%;"),m=0;for(var u=0;u<=e.navItemCount;u++){let p=getValueFromData(e.attr("headers"+u),null),b=getValueFromData(e.attr("labels"+u),"Menu Item"),h=getValueFromData(e.attr("iconDrawer"+u),""),v=getNumberFromData(e.attr("submenuCounts_"+u),0),f=!1,y="",F="";if(v>0){f=!0;let t=getValueFromData(e.attr("labels"+u),null);if(null===t)b="Menu Item";else try{y=JSON.parse(t),b=y.itemText}catch{y="",b="Error: wrong format!"}let a=getValueFromData(e.attr("iconDrawer"+u),null);if(null!==a)try{F=JSON.parse(a),h=F.itemImage}catch{F=""}}let x=getListItemHeader(p,t);r.push(x);let D=getListItem(e.drawerItemLayout,m,h,f,!1,a),w="";"standard"===e.drawerItemLayout&&(w=getListItemImage(h,a)),e.showIndexNum&&(b=`[${m}] ${b}`);let $=getListItemLabel(e.drawerItemLayout,m,b,f,l,s,e.colorSubItemToggleIcon,d,!1,e.listItemAlignment);if(r.push(`${D}${w}${$}</div>`),f){r.push('<nav class="mdc-list mdc-sub-list">');for(var g=0;g<=v-1;g++){m++;let t="";F&&F.subItems&&F.subItems.length>0&&(t=getValueFromData(F.subItems[g],""));let a="";a=y&&y.subItems&&y.subItems.length>0?getValueFromData(y.subItems[g],"Menu SubItem"):"Menu SubItem",e.showIndexNum&&(a=`[${m}] ${a}`);let l=getListItem(e.drawerSubItemLayout,m,t,!1,!0,i),s="";"standard"===e.drawerSubItemLayout&&(s=getListItemImage(t,i));let d=getListItemLabel(e.drawerSubItemLayout,m,a,!1,o,n,"",c,!0,e.listSubItemAlignment);r.push(`${l}${s}${d}</div>`)}r.push("</nav>")}r.push(getListItemDivider(e.attr("dividers"+u),e.listItemDividerStyle)),m++}}}catch(t){console.exception(`initializeDrawer [${e.wid}]: error:: ${t.message}, stack: ${t.stack}`)}},handler:function(e,t){try{let r=$(e),o=r.parent().parent().get(0),s=r.context,n=r.parent().find(".mdc-top-app-bar").get(0),d=r.parent().find(".mdc-list").get(0);setTimeout(function(){if(r.parent().parent().css("left","0px"),r.parent().parent().css("top","0px"),"modal"===t.drawerLayout){let e=window.getComputedStyle(o,null).width;"short"!==t.topAppBarLayout?r.parent().find(".mdc-top-app-bar").css("width",e):vis.editMode&&r.parent().find(".mdc-top-app-bar").css("position","relative")}else{let e=window.getComputedStyle(o,null).width,a=window.getComputedStyle(s,null).width,i=e.replace("px","")-a.replace("px","");"short"!==t.topAppBarLayout?r.parent().find(".mdc-top-app-bar").css("width",i):vis.editMode?r.parent().find(".mdc-top-app-bar").css("position","relative"):r.parent().find(".mdc-top-app-bar").css("left",a),r.parent().find(".drawer-frame-app-content").css("left",a)}},1);let c=getValueFromData(t.colorDrawerBackground,"");s.style.setProperty("--materialdesign-color-drawer-background",c),d.style.setProperty("--materialdesign-color-drawer-sub-background",getValueFromData(t.colorDrawerSubBackground,c));let m=getValueFromData(t.colorDrawerItemBackground,c);d.style.setProperty("--materialdesign-color-list-item-background",m),d.style.setProperty("--materialdesign-color-sub-list-item-background",getValueFromData(t.colorDrawerSubItemBackground,m));let u=getValueFromData(t.colorListItemSelected,"");d.style.setProperty("--materialdesign-color-list-item-selected",u),d.style.setProperty("--materialdesign-color-sub-list-item-selected",getValueFromData(t.colorListSubItemSelected,u));let g=getValueFromData(t.colorListItemHover,"");d.style.setProperty("--materialdesign-color-list-item-hover",g),d.style.setProperty("--materialdesign-color-sub-list-item-hover",getValueFromData(t.colorListSubItemHover,g));let p=getValueFromData(t.colorListItemText,"");d.style.setProperty("--materialdesign-color-list-item-text",p),d.style.setProperty("--materialdesign-color-sub-list-item-text",getValueFromData(t.colorListSubItemText,p));let b=getValueFromData(t.colorListItemTextSelected,"");d.style.setProperty("--materialdesign-color-list-item-text-activated",b),d.style.setProperty("--materialdesign-color-sub-list-item-text-activated",getValueFromData(t.colorListSubItemTextSelected,b)),d.style.setProperty("--materialdesign-color-list-item-header",getValueFromData(t.colorListItemHeaders,"")),d.style.setProperty("--materialdesign-color-list-item-divider",getValueFromData(t.colorListItemDivider,""));let h=getValueFromData(t.colorDrawerbackdropLabelBackground,"");d.style.setProperty("--materialdesign-color-list-item-backdrop",h),d.style.setProperty("--materialdesign-color-sub-list-item-backdrop",getValueFromData(t.colorDrawerbackdropSubLabelBackground,h));let v=getValueFromData(t.colorDrawerbackdropLabelBackgroundActive,"");d.style.setProperty("--materialdesign-color-list-item-backdrop-activated",v),d.style.setProperty("--materialdesign-color-sub-list-item-backdrop-activated",getValueFromData(t.colorDrawerbackdropSubLabelBackgroundActive,v)),n.style.setProperty("--mdc-theme-primary",getValueFromData(t.colorTopAppBarBackground,""));const f=new mdc.drawer.MDCDrawer(s),y=new mdc.topAppBar.MDCTopAppBar(n),F=new mdc.list.MDCList(d);F.listElements.map(e=>new mdc.ripple.MDCRipple(e));y.setScrollTarget(r.parent().find(".mdc-top-app-bar-content").get(0)),y.listen("MDCTopAppBar:nav",()=>{if(vis.binds.materialdesign.helper.vibrate(t.vibrateTopAppBarOnMobilDevices),"dismissible"===t.drawerLayout)if(f.open){let e=window.getComputedStyle(o,null).width;window.getComputedStyle(s,null).width;"short"!==t.topAppBarLayout?r.parent().find(".mdc-top-app-bar").css("width",e):vis.editMode||r.parent().find(".mdc-top-app-bar").css("left","0px"),r.parent().find(".drawer-frame-app-content").css("left","0px"),f.open=!f.open}else{let e=window.getComputedStyle(o,null).width,a=window.getComputedStyle(s,null).width,i=e.replace("px","")-a.replace("px","");f.open=!f.open,setTimeout(function(){"short"!==t.topAppBarLayout?r.parent().find(".mdc-top-app-bar").css("width",i):vis.editMode||r.parent().find(".mdc-top-app-bar").css("left",a),r.parent().find(".drawer-frame-app-content").css("left",a)},250)}else f.open=!f.open});var a=vis.states.attr(t.oid+".val");function i(){if(t.showSelectedItemAsTitle){let e=r.parent().find(`span[id="listItem_${F.selectedIndex}"]`).text();r.parent().find(".mdc-top-app-bar__title").text(e)}}function l(e){let t=r.find(`.mdc-list-item[id="listItem_${e}"]`);if(t.hasClass("isSubItem")){let e=t.parent().prev(".hasSubItems");e.hasClass("toggled")||(e.addClass("toggled"),e.find(".toggleIcon").html("keyboard_arrow_up"),e.next("nav.mdc-sub-list").toggle())}}l(a),F.selectedIndex=a,i(),vis.states.bind(t.oid+".val",function(e,t,a){l(t),F.selectedIndex=t,i()}),r.find(".mdc-list-item").click(function(){let e=parseInt($(this).eq(0).attr("id").replace("listItem_",""));vis.binds.materialdesign.helper.vibrate(t.vibrateDrawerOnMobilDevices),$(this).hasClass("hasSubItems")?($(this).hasClass("toggled")?($(this).removeClass("toggled"),$(this).find(".toggleIcon").html("keyboard_arrow_down")):($(this).addClass("toggled"),$(this).find(".toggleIcon").html("keyboard_arrow_up")),$(this).next("nav.mdc-sub-list").toggle(),F.selectedIndex=e):(a=vis.states.attr(t.oid+".val"),a!=e&&(vis.setValue(t.oid,e),i(),setTimeout(function(){window.scrollTo({top:0,left:0})},50)),"modal"===t.drawerLayout&&(f.open=!1))})}catch(e){console.exception(`mdcTopAppBarWithDrawer [${t.wid}]: error:: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.views={column:function(e,t){try{let l=$(e),r=(vis.binds.materialdesign.helper,getNumberFromData(t.countCols,0)+1),o=[],s="";for(var a=0;a<=r-1;a++){o.push(`\n                    <div \n                        class="materialdesign-column-views-container-column" \n                        style="min-width: ${getNumberFromData(t.minWidth,0)}px !important; width: calc(100% / ${r}) !important;">\n                        <div class="materialdesign-column-views-container-column-view">\n                `);let e=getValueFromData(t.attr("viewsInColumn"+a),"").split("|"),l=getValueFromData(t.attr("viewsInColumnHeight"+a),"").split("|");for(var i=0;i<=e.length-1;i++){let n=`col_${a}_view_${i}`;o.push(`\n                    <div \n                        class="materialdesign-column-views-container-column-item" \n                        id="${n}" \n                        style="min-width: ${getNumberFromData(t.minWidth,0)}px !important; width: calc(100% / ${r}) !important; height: ${getNumberFromData(l[i],100)}px">\n                            ${vis.editMode?'<div class="editmode-helper" style="border-style: dashed; border-width: 2px; border-color: #44739e;"></div>':""}\n                            <div data-vis-contains="${e[i]}" class="vis-widget-body vis-view-container">\n                            </div>\n                    </div>\n                    `),s=n}o.push("</div></div>")}l.append(`\n                <div class="materialdesign-column-views-container">\n                    ${o.join("")}\n                </div>\n            `)}catch(e){console.exception(`column: error: ${e.message}, stack: ${e.stack}`)}},masonry:function(e,t){try{let i=$(e),l=[],r=getNumberFromData(t.countCols,3);i.context.style.setProperty("--materialdesign-masonry-gaps",getNumberFromData(t.masnoryGaps,0)+"px");for(var a=0;a<=t.countViews;a++){let e=getValueFromData(t.attr("viewsWidth"+a),"");""!==e&&(e.endsWith("%")||e.endsWith("px"))?(console.log("hier1"),e=`width: ${getValueFromData(t.attr("viewsWidth"+a))};`):isNaN(e)||""===e?(console.log("hier3"),e=""):(console.log("hier2"),e=`width: ${getValueFromData(t.attr("viewsWidth"+a))}px;`);let i=getValueFromData(t.attr("viewAlignment"+a),"center");"left"===i&&(i="flex-start"),"right"===i&&(i="flex-end"),l.push(`\n                    <div \n                        class="materialdesign-masonry-item" style="height: ${getNumberFromData(t.attr("viewsHeight"+a),100)+getNumberFromData(t.masnoryGaps,0)}px; ${e}">\n                            ${vis.editMode?`<div class="editmode-helper" style="border-style: dashed; border-width: 2px; border-color: #44739e; height: ${getNumberFromData(t.attr("viewsHeight"+a),100)}px;"></div>`:""}                          \n                            <div data-vis-contains="${t.attr("View"+a)}" class="vis-widget-body vis-view-container">\n                            </div>\n                    </div>\n                `)}i.append(`\n\n                <div class="materialdesign-masonry-container" style="--materialdesign-masonry-column-count: ${r}; text-align: ${t.viewAlignment};">\n                    ${l.join("")}\n                </div>\n                \n            `)}catch(e){console.exception(`masonry: error: ${e.message}, stack: ${e.stack}`)}}};